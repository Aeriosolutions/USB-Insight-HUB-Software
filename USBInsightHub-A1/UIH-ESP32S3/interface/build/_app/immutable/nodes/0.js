import{n as I,i as It,s as x,c as Le,u as Te,g as Ne,a as Ue,b as ue,d as De,e as E,f as At,h as L,j as St,r as Dt}from"../chunks/utils.js";import{s as N,c as U,i as S,d as u,e as oe,p as _e,q as ne,H as se,r as ae,g as y,u as le,v as H,b as C,f as M,h as k,k as pe,l as we,w as b,m as be,x as We,y as ve,z as jt,A as je,B as Vt,o as vt,n as Lt,C as Ie,D as Qe,E as Tt,F as Nt,G as Ut}from"../chunks/scheduler.js";import{n as Ht,l as Ot,f as Pt,h as Rt,S as W,i as J,a as p,g as Z,t as $,c as ee,b as O,d as F,m as P,e as R,j as pt,k as wt,o as qt,p as Ye}from"../chunks/index.js";import{u as $e}from"../chunks/user.js";import{C as zt,B as Gt,c as Ft,a as xt,G as Wt,t as Ae}from"../chunks/compareVersions.js";import{R as Jt,a as Xt}from"../chunks/report-analytics.js";import{w as Qt}from"../chunks/singletons.js";import{s as ce}from"../chunks/socket.js";import{p as He}from"../chunks/stores.js";import{h as Ke,u as Yt}from"../chunks/await_block.js";import{e as ye,u as Je,o as bt,f as Kt}from"../chunks/each.js";import{g as K,a as Ve,c as Zt,f as Ge,b as Fe}from"../chunks/index2.js";import{m as er,t as Re,e as qe,o as xe,X as kt,c as tr,C as $t,a as yt}from"../chunks/ConfirmDialog.js";import{n as ge}from"../chunks/notifications.js";import{A as rr}from"../chunks/alert-triangle.js";import{I as nr}from"../chunks/info-circle.js";import{U as sr}from"../chunks/users.js";import{S as ar}from"../chunks/stethoscope.js";import{W as lr,R as ir,a as or}from"../chunks/RSSIIndicator.js";import{A as cr}from"../chunks/access-point.js";import{T as fr}from"../chunks/topology-star-3.js";import{C as ur}from"../chunks/clock-check.js";import{I as hr}from"../chunks/InputPassword.js";function dr(i,e,r,t){if(!e)return I;const s=i.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return I;const{delay:l=0,duration:n=300,easing:a=It,start:o=Ht()+l,end:c=o+n,tick:h=I,css:d}=r(i,{from:e,to:s},t);let _=!0,f=!1,m;function g(){d&&(m=Pt(i,0,1,n,l,a,d)),l||(f=!0)}function w(){d&&Rt(i,m),_=!1}return Ot(v=>{if(!f&&v>=o&&(f=!0),f&&v>=c&&(h(1,0),w()),!_)return!1;if(f){const A=v-o,T=0+1*a(A/n);h(T,1-T)}return!0}),g(),h(0,1),w}function mr(i){const e=getComputedStyle(i);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:r,height:t}=e,s=i.getBoundingClientRect();i.style.position="absolute",i.style.width=r,i.style.height=t,Bt(i,s)}}function Bt(i,e){const r=i.getBoundingClientRect();if(e.left!==r.left||e.top!==r.top){const t=getComputedStyle(i),s=t.transform==="none"?"":t.transform;i.style.transform=`${s} translate(${e.left-r.left}px, ${e.top-r.top}px)`}}const _r=!1,gr=!1,vr=async({fetch:i})=>({features:await(await i("/rest/features")).json(),title:"UIH Control Panel",github:"Aeriosolutions/USB-Insight-HUB-Software",copyright:"2025 Aerio Solutions",appName:"USB Insight Hub"}),Ps=Object.freeze(Object.defineProperty({__proto__:null,load:vr,prerender:_r,ssr:gr},Symbol.toStringTag,{value:"Module"}));let pr={soc:[],charging:[],timestamp:[]};const ze=3600;function wr(){const{subscribe:i,update:e}=Qt(pr);return{subscribe:i,addData:r=>{e(t=>({...t,soc:[...t.soc,r.soc].slice(-ze),charging:[...t.charging,r.charging?1:0].slice(-ze),timestamp:[...t.timestamp,Date.now()].slice(-ze)}))}}}const br=wr();function Ze(i,e,r){const t=i.slice();return t[9]=e[r],t[11]=r,t}const kr=i=>({}),et=i=>({}),$r=i=>({}),tt=i=>({});function rt(i){let e;const r=i[4].backdrop,t=Le(r,i,i[3],tt);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,l){t&&t.m(s,l),e=!0},p(s,l){t&&t.p&&(!e||l&8)&&Te(t,r,s,s[3],e?Ue(r,s[3],l,$r):Ne(s[3]),tt)},i(s){e||(p(t,s),e=!0)},o(s){$(t,s),e=!1},d(s){t&&t.d(s)}}}function yr(i){let e,r,t;const s=[{isOpen:i[11]===i[0].length-1&&!i[1]},i[9].props];var l=i[9].component;function n(a,o){let c={};for(let h=0;h<s.length;h+=1)c=E(c,s[h]);return o!==void 0&&o&3&&(c=E(c,K(s,[{isOpen:a[11]===a[0].length-1&&!a[1]},o&1&&Ve(a[9].props)]))),{props:c}}return l&&(e=_e(l,n(i)),e.$on("introstart",i[7]),e.$on("outroend",i[8])),{c(){e&&O(e.$$.fragment),r=oe()},l(a){e&&F(e.$$.fragment,a),r=oe()},m(a,o){e&&P(e,a,o),S(a,r,o),t=!0},p(a,o){if(o&1&&l!==(l=a[9].component)){if(e){Z();const c=e;$(c.$$.fragment,1,0,()=>{R(c,1)}),ee()}l?(e=_e(l,n(a,o)),e.$on("introstart",a[7]),e.$on("outroend",a[8]),O(e.$$.fragment),p(e.$$.fragment,1),P(e,r.parentNode,r)):e=null}else if(l){const c=o&3?K(s,[{isOpen:a[11]===a[0].length-1&&!a[1]},o&1&&Ve(a[9].props)]):{};e.$set(c)}},i(a){t||(e&&p(e.$$.fragment,a),t=!0)},o(a){e&&$(e.$$.fragment,a),t=!1},d(a){a&&u(r),e&&R(e,a)}}}function Br(i){let e,r,t,s={ctx:i,current:null,token:null,hasCatch:!1,pending:Mr,then:Cr,catch:Er,value:12,blocks:[,,,]};return Ke(r=st(i[9].component),s),{c(){e=oe(),s.block.c()},l(l){e=oe(),s.block.l(l)},m(l,n){S(l,e,n),s.block.m(l,s.anchor=n),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(l,n){i=l,s.ctx=i,n&1&&r!==(r=st(i[9].component))&&Ke(r,s)||Yt(s,i,n)},i(l){t||(p(s.block),t=!0)},o(l){for(let n=0;n<3;n+=1){const a=s.blocks[n];$(a)}t=!1},d(l){l&&u(e),s.block.d(l),s.token=null,s=null}}}function Er(i){return{c:I,l:I,m:I,p:I,i:I,o:I,d:I}}function Cr(i){let e,r,t;const s=[{isOpen:i[11]===i[0].length-1&&!i[1]},i[9].props];var l=i[12];function n(a,o){let c={};for(let h=0;h<s.length;h+=1)c=E(c,s[h]);return o!==void 0&&o&3&&(c=E(c,K(s,[{isOpen:a[11]===a[0].length-1&&!a[1]},o&1&&Ve(a[9].props)]))),{props:c}}return l&&(e=_e(l,n(i)),e.$on("introstart",i[5]),e.$on("outroend",i[6])),{c(){e&&O(e.$$.fragment),r=N()},l(a){e&&F(e.$$.fragment,a),r=U(a)},m(a,o){e&&P(e,a,o),S(a,r,o),t=!0},p(a,o){if(o&1&&l!==(l=a[12])){if(e){Z();const c=e;$(c.$$.fragment,1,0,()=>{R(c,1)}),ee()}l?(e=_e(l,n(a,o)),e.$on("introstart",a[5]),e.$on("outroend",a[6]),O(e.$$.fragment),p(e.$$.fragment,1),P(e,r.parentNode,r)):e=null}else if(l){const c=o&3?K(s,[{isOpen:a[11]===a[0].length-1&&!a[1]},o&1&&Ve(a[9].props)]):{};e.$set(c)}},i(a){t||(e&&p(e.$$.fragment,a),t=!0)},o(a){e&&$(e.$$.fragment,a),t=!1},d(a){a&&u(r),e&&R(e,a)}}}function Mr(i){let e,r;const t=i[4].loading,s=Le(t,i,i[3],et);return{c(){s&&s.c(),e=N()},l(l){s&&s.l(l),e=U(l)},m(l,n){s&&s.m(l,n),S(l,e,n),r=!0},p(l,n){s&&s.p&&(!r||n&8)&&Te(s,t,l,l[3],r?Ue(t,l[3],n,kr):Ne(l[3]),et)},i(l){r||(p(s,l),r=!0)},o(l){$(s,l),r=!1},d(l){l&&u(e),s&&s.d(l)}}}function nt(i,e){let r,t,s,l,n,a;const o=[Br,yr],c=[];function h(d,_){return _&1&&(t=null),t==null&&(t=!!Sr(d[9].component)),t?0:1}return s=h(e,-1),l=c[s]=o[s](e),{key:i,first:null,c(){r=oe(),l.c(),n=oe(),this.h()},l(d){r=oe(),l.l(d),n=oe(),this.h()},h(){this.first=r},m(d,_){S(d,r,_),c[s].m(d,_),S(d,n,_),a=!0},p(d,_){e=d;let f=s;s=h(e,_),s===f?c[s].p(e,_):(Z(),$(c[f],1,1,()=>{c[f]=null}),ee(),l=c[s],l?l.p(e,_):(l=c[s]=o[s](e),l.c()),p(l,1),l.m(n.parentNode,n))},i(d){a||(p(l),a=!0)},o(d){$(l),a=!1},d(d){d&&(u(r),u(n)),c[s].d(d)}}}function Ir(i){let e=[],r=new Map,t,s,l=ye(i[0]);const n=a=>a[11];for(let a=0;a<l.length;a+=1){let o=Ze(i,l,a),c=n(o);r.set(c,e[a]=nt(c,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=oe()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);t=oe()},m(a,o){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,o);S(a,t,o),s=!0},p(a,o){o&15&&(l=ye(a[0]),Z(),e=Je(e,o,n,1,a,l,r,t.parentNode,bt,nt,t,Ze),ee())},i(a){if(!s){for(let o=0;o<l.length;o+=1)p(e[o]);s=!0}},o(a){for(let o=0;o<e.length;o+=1)$(e[o]);s=!1},d(a){a&&u(t);for(let o=0;o<e.length;o+=1)e[o].d(a)}}}function Ar(i){let e,r,t=i[0].length>0&&rt(i);const s=i[4].default,l=Le(s,i,i[3],null),n=l||Ir(i);return{c(){t&&t.c(),e=N(),n&&n.c()},l(a){t&&t.l(a),e=U(a),n&&n.l(a)},m(a,o){t&&t.m(a,o),S(a,e,o),n&&n.m(a,o),r=!0},p(a,[o]){a[0].length>0?t?(t.p(a,o),o&1&&p(t,1)):(t=rt(a),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Z(),$(t,1,1,()=>{t=null}),ee()),l?l.p&&(!r||o&8)&&Te(l,s,a,a[3],r?Ue(s,a[3],o,null):Ne(a[3]),null):n&&n.p&&(!r||o&15)&&n.p(a,r?o:-1)},i(a){r||(p(t),p(n,a),r=!0)},o(a){$(t),$(n,a),r=!1},d(a){a&&u(e),t&&t.d(a),n&&n.d(a)}}}function Sr(i){return typeof i.prototype>"u"}async function st(i){return i().then(e=>e.default)}function Dr(i,e,r){let t,s,l;ue(i,er,_=>r(0,t=_)),ue(i,Re,_=>r(1,s=_)),ue(i,qe,_=>r(2,l=_));let{$$slots:n={},$$scope:a}=e;const o=()=>{De(qe,l=!0,l)},c=()=>{De(Re,s=!1,s)},h=()=>{De(qe,l=!0,l)},d=()=>{De(Re,s=!1,s)};return i.$$set=_=>{"$$scope"in _&&r(3,a=_.$$scope)},[t,s,l,a,n,o,c,h,d]}class jr extends W{constructor(e){super(),J(this,e,Dr,Ar,x,{})}}function Vr(i,{from:e,to:r},t={}){const s=getComputedStyle(i),l=s.transform==="none"?"":s.transform,[n,a]=s.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*n/r.width-(r.left+n),c=e.top+e.height*a/r.height-(r.top+a),{delay:h=0,duration:d=f=>Math.sqrt(f)*120,easing:_=Zt}=t;return{delay:h,duration:At(d)?d(Math.sqrt(o*o+c*c)):d,easing:_,css:(f,m)=>{const g=m*o,w=m*c,v=f+m*e.width/r.width,A=f+m*e.height/r.height;return`transform: ${l} translate(${g}px, ${w}px) scale(${v}, ${A});`}}}function Lr(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 1 0 18 0a9 9 0 1 0-18 0"/><path d="m9 12l2 2l4-4"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function Tr(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class Nr extends W{constructor(e){super(),J(this,e,Tr,Lr,x,{})}}function at(i,e,r){const t=i.slice();return t[3]=e[r],t}function lt(i,e){let r,t,s,l,n=e[3].message+"",a,o,c,h,d,_,f=I,m;var g=e[1][e[3].type];function w(v,A){return{props:{class:"h-6 w-6 flex-shrink-0"}}}return g&&(t=_e(g,w())),{key:i,first:null,c(){r=C("div"),t&&O(t.$$.fragment),s=N(),l=C("span"),a=pe(n),o=N(),this.h()},l(v){r=M(v,"DIV",{class:!0});var A=y(r);t&&F(t.$$.fragment,A),s=U(A),l=M(A,"SPAN",{});var T=y(l);a=we(T,n),T.forEach(u),o=U(A),A.forEach(u),this.h()},h(){k(r,"class",c="alert animate-none "+e[0][e[3].type]),this.first=r},m(v,A){S(v,r,A),t&&P(t,r,null),b(r,s),b(r,l),b(l,a),b(r,o),m=!0},p(v,A){if(e=v,A&6&&g!==(g=e[1][e[3].type])){if(t){Z();const T=t;$(T.$$.fragment,1,0,()=>{R(T,1)}),ee()}g?(t=_e(g,w()),O(t.$$.fragment),p(t.$$.fragment,1),P(t,r,s)):t=null}(!m||A&4)&&n!==(n=e[3].message+"")&&be(a,n),(!m||A&5&&c!==(c="alert animate-none "+e[0][e[3].type]))&&k(r,"class",c)},r(){_=r.getBoundingClientRect()},f(){mr(r),f(),Bt(r,_)},a(){f(),f=dr(r,_,Vr,{duration:400})},i(v){m||(t&&p(t.$$.fragment,v),v&&We(()=>{m&&(d&&d.end(1),h=pt(r,Ge,{y:100,duration:400}),h.start())}),m=!0)},o(v){t&&$(t.$$.fragment,v),h&&h.invalidate(),v&&(d=wt(r,Ge,{x:100,duration:400})),m=!1},d(v){v&&u(r),t&&R(t),v&&d&&d.end()}}}function Ur(i){let e,r=[],t=new Map,s,l=ye(i[2]);const n=a=>a[3].id;for(let a=0;a<l.length;a+=1){let o=at(i,l,a),c=n(o);t.set(c,r[a]=lt(c,o))}return{c(){e=C("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=M(a,"DIV",{class:!0});var o=y(e);for(let c=0;c<r.length;c+=1)r[c].l(o);o.forEach(u),this.h()},h(){k(e,"class","toast toast-end mr-4")},m(a,o){S(a,e,o);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);s=!0},p(a,[o]){if(o&7){l=ye(a[2]),Z();for(let c=0;c<r.length;c+=1)r[c].r();r=Je(r,o,n,1,a,l,t,e,Kt,lt,null,at);for(let c=0;c<r.length;c+=1)r[c].a();ee()}},i(a){if(!s){for(let o=0;o<l.length;o+=1)p(r[o]);s=!0}},o(a){for(let o=0;o<r.length;o+=1)$(r[o]);s=!1},d(a){a&&u(e);for(let o=0;o<r.length;o+=1)r[o].d()}}}function Hr(i,e,r){let t;ue(i,ge,n=>r(2,t=n));let{theme:s={error:"alert-error",success:"alert-success",warning:"alert-warning",info:"alert-info"}}=e,{icon:l={error:zt,success:Nr,warning:rr,info:nr}}=e;return i.$$set=n=>{"theme"in n&&r(0,s=n.theme),"icon"in n&&r(1,l=n.icon)},[s,l,t]}class Or extends W{constructor(e){super(),J(this,e,Hr,Ur,x,{theme:0,icon:1})}}const Et=""+new URL("../assets/logo.png",import.meta.url).href;function Pr(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M8 12a1 1 0 1 0 2 0a1 1 0 0 0-2 0m6 0a1 1 0 1 0 2 0a1 1 0 0 0-2 0"/><path d="M15.5 17c0 1 1.5 3 2 3c1.5 0 2.833-1.667 3.5-3c.667-1.667.5-5.833-1.5-11.5c-1.457-1.015-3-1.34-4.5-1.5l-.972 1.923a11.913 11.913 0 0 0-4.053 0L9 4c-1.5.16-3.043.485-4.5 1.5c-2 5.667-2.167 9.833-1.5 11.5c.667 1.333 2 3 3.5 3c.5 0 2-2 2-3"/><path d="M7 16.5c3.5 1 6.5 1 10 0"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function Rr(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class qr extends W{constructor(e){super(),J(this,e,Rr,Pr,x,{})}}function zr(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37c1 .608 2.296.07 2.572-1.065z"/><path d="M9 12a3 3 0 1 0 6 0a3 3 0 0 0-6 0"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function Gr(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class Fr extends W{constructor(e){super(),J(this,e,Gr,zr,x,{})}}function xr(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4m-4 4a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4m-4-6v3m0 3h.01"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function Wr(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class Ct extends W{constructor(e){super(),J(this,e,Wr,xr,x,{})}}function Jr(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M6 9a6 6 0 1 0 12 0A6 6 0 0 0 6 9"/><path d="M12 3c1.333.333 2 2.333 2 6s-.667 5.667-2 6m0-12c-1.333.333-2 2.333-2 6s.667 5.667 2 6M6 9h12M3 20h7m4 0h7m-11 0a2 2 0 1 0 4 0a2 2 0 0 0-4 0m2-5v3"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function Xr(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class Qr extends W{constructor(e){super(),J(this,e,Xr,Jr,x,{})}}function Yr(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 10a2 2 0 1 0 4 0a2 2 0 0 0-4 0m2-6v4m0 4v8m4-4a2 2 0 1 0 4 0a2 2 0 0 0-4 0m2-12v10m0 4v2m4-13a2 2 0 1 0 4 0a2 2 0 0 0-4 0m2-3v1m0 4v11"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function Kr(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class Zr extends W{constructor(e){super(),J(this,e,Kr,Yr,x,{})}}function en(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 1 0 18 0a9 9 0 1 0-18 0"/><path d="M9 10a3 3 0 1 0 6 0a3 3 0 1 0-6 0m-2.832 8.849A4 4 0 0 1 10 16h4a4 4 0 0 1 3.834 2.855"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function tn(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class rn extends W{constructor(e){super(),J(this,e,tn,en,x,{})}}function nn(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M14 8V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2v-2"/><path d="M9 12h12l-3-3m0 6l3-3"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function sn(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class an extends W{constructor(e){super(),J(this,e,sn,nn,x,{})}}function ln(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 1 0 18 0a9 9 0 1 0-18 0"/><path d="M14 9.75a3.016 3.016 0 0 0-4.163.173a2.993 2.993 0 0 0 0 4.154A3.016 3.016 0 0 0 14 14.25"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function on(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class cn extends W{constructor(e){super(),J(this,e,on,ln,x,{})}}function it(i,e,r){const t=i.slice();return t[11]=e[r],t[13]=r,t}function ot(i,e,r){const t=i.slice();return t[14]=e[r],t}function ct(i){let e,r,t,s,l;const n=[un,fn],a=[];function o(c,h){return c[11].submenu?0:1}return r=o(i),t=a[r]=n[r](i),{c(){e=C("li"),t.c(),s=N()},l(c){e=M(c,"LI",{});var h=y(e);t.l(h),s=U(h),h.forEach(u)},m(c,h){S(c,e,h),a[r].m(e,null),b(e,s),l=!0},p(c,h){let d=r;r=o(c),r===d?a[r].p(c,h):(Z(),$(a[d],1,1,()=>{a[d]=null}),ee(),t=a[r],t?t.p(c,h):(t=a[r]=n[r](c),t.c()),p(t,1),t.m(e,s))},i(c){l||(p(t),l=!0)},o(c){$(t),l=!1},d(c){c&&u(e),a[r].d()}}}function fn(i){let e,r,t=i[11].title+"",s,l,n,a,o;var c=i[11].icon;function h(_,f){return{props:{class:"h-6 w-6"}}}c&&(r=_e(c,h()));function d(){return i[8](i[11])}return{c(){e=C("a"),r&&O(r.$$.fragment),s=pe(t),this.h()},l(_){e=M(_,"A",{href:!0,class:!0});var f=y(e);r&&F(r.$$.fragment,f),s=we(f,t),f.forEach(u),this.h()},h(){k(e,"href",l=i[11].href),k(e,"class","text-lg font-bold"),je(e,"bg-base-100",i[11].active)},m(_,f){S(_,e,f),r&&P(r,e,null),b(e,s),n=!0,a||(o=ve(e,"click",d),a=!0)},p(_,f){if(i=_,f&2&&c!==(c=i[11].icon)){if(r){Z();const m=r;$(m.$$.fragment,1,0,()=>{R(m,1)}),ee()}c?(r=_e(c,h()),O(r.$$.fragment),p(r.$$.fragment,1),P(r,e,s)):r=null}(!n||f&2)&&t!==(t=i[11].title+"")&&be(s,t),(!n||f&2&&l!==(l=i[11].href))&&k(e,"href",l),(!n||f&2)&&je(e,"bg-base-100",i[11].active)},i(_){n||(r&&p(r.$$.fragment,_),n=!0)},o(_){r&&$(r.$$.fragment,_),n=!1},d(_){_&&u(e),r&&R(r),a=!1,o()}}}function un(i){let e,r,t,s,l=i[11].title+"",n,a,o,c;var h=i[11].icon;function d(g,w){return{props:{class:"h-6 w-6"}}}h&&(t=_e(h,d()));let _=ye(i[11].submenu),f=[];for(let g=0;g<_.length;g+=1)f[g]=ut(ot(i,_,g));const m=g=>$(f[g],1,1,()=>{f[g]=null});return{c(){e=C("details"),r=C("summary"),t&&O(t.$$.fragment),s=N(),n=pe(l),a=N(),o=C("ul");for(let g=0;g<f.length;g+=1)f[g].c();this.h()},l(g){e=M(g,"DETAILS",{});var w=y(e);r=M(w,"SUMMARY",{class:!0});var v=y(r);t&&F(t.$$.fragment,v),s=U(v),n=we(v,l),v.forEach(u),a=U(w),o=M(w,"UL",{});var A=y(o);for(let T=0;T<f.length;T+=1)f[T].l(A);A.forEach(u),w.forEach(u),this.h()},h(){k(r,"class","text-lg font-bold")},m(g,w){S(g,e,w),b(e,r),t&&P(t,r,null),b(r,s),b(r,n),b(e,a),b(e,o);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(o,null);c=!0},p(g,w){if(w&2&&h!==(h=g[11].icon)){if(t){Z();const v=t;$(v.$$.fragment,1,0,()=>{R(v,1)}),ee()}h?(t=_e(h,d()),O(t.$$.fragment),p(t.$$.fragment,1),P(t,r,s)):t=null}if((!c||w&2)&&l!==(l=g[11].title+"")&&be(n,l),w&34){_=ye(g[11].submenu);let v;for(v=0;v<_.length;v+=1){const A=ot(g,_,v);f[v]?(f[v].p(A,w),p(f[v],1)):(f[v]=ut(A),f[v].c(),p(f[v],1),f[v].m(o,null))}for(Z(),v=_.length;v<f.length;v+=1)m(v);ee()}},i(g){if(!c){t&&p(t.$$.fragment,g);for(let w=0;w<_.length;w+=1)p(f[w]);c=!0}},o(g){t&&$(t.$$.fragment,g),f=f.filter(Boolean);for(let w=0;w<f.length;w+=1)$(f[w]);c=!1},d(g){g&&u(e),t&&R(t),Vt(f,g)}}}function ft(i){let e,r,t,s=i[14].title+"",l,n,a,o,c,h;var d=i[14].icon;function _(m,g){return{props:{class:"h-5 w-5"}}}d&&(t=_e(d,_()));function f(){return i[7](i[14])}return{c(){e=C("li"),r=C("a"),t&&O(t.$$.fragment),l=pe(s),a=N(),this.h()},l(m){e=M(m,"LI",{class:!0});var g=y(e);r=M(g,"A",{href:!0,class:!0});var w=y(r);t&&F(t.$$.fragment,w),l=we(w,s),w.forEach(u),a=U(g),g.forEach(u),this.h()},h(){k(r,"href",n=i[14].href),k(r,"class","text-ml font-bold"),je(r,"bg-base-100",i[14].active),k(e,"class","hover-bordered")},m(m,g){S(m,e,g),b(e,r),t&&P(t,r,null),b(r,l),b(e,a),o=!0,c||(h=ve(r,"click",f),c=!0)},p(m,g){if(i=m,g&2&&d!==(d=i[14].icon)){if(t){Z();const w=t;$(w.$$.fragment,1,0,()=>{R(w,1)}),ee()}d?(t=_e(d,_()),O(t.$$.fragment),p(t.$$.fragment,1),P(t,r,l)):t=null}(!o||g&2)&&s!==(s=i[14].title+"")&&be(l,s),(!o||g&2&&n!==(n=i[14].href))&&k(r,"href",n),(!o||g&2)&&je(r,"bg-base-100",i[14].active)},i(m){o||(t&&p(t.$$.fragment,m),o=!0)},o(m){t&&$(t.$$.fragment,m),o=!1},d(m){m&&u(e),t&&R(t),c=!1,h()}}}function ut(i){let e,r,t=i[14].feature&&ft(i);return{c(){t&&t.c(),e=oe()},l(s){t&&t.l(s),e=oe()},m(s,l){t&&t.m(s,l),S(s,e,l),r=!0},p(s,l){s[14].feature?t?(t.p(s,l),l&2&&p(t,1)):(t=ft(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Z(),$(t,1,1,()=>{t=null}),ee())},i(s){r||(p(t),r=!0)},o(s){$(t),r=!1},d(s){s&&u(e),t&&t.d(s)}}}function ht(i,e){let r,t,s,l=e[11].feature&&ct(e);return{key:i,first:null,c(){r=oe(),l&&l.c(),t=oe(),this.h()},l(n){r=oe(),l&&l.l(n),t=oe(),this.h()},h(){this.first=r},m(n,a){S(n,r,a),l&&l.m(n,a),S(n,t,a),s=!0},p(n,a){e=n,e[11].feature?l?(l.p(e,a),a&2&&p(l,1)):(l=ct(e),l.c(),p(l,1),l.m(t.parentNode,t)):l&&(Z(),$(l,1,1,()=>{l=null}),ee())},i(n){s||(p(l),s=!0)},o(n){$(l),s=!1},d(n){n&&(u(r),u(t)),l&&l.d(n)}}}function dt(i){let e,r,t,s,l=i[2].username+"",n,a,o,c,h,d,_;return r=new rn({props:{class:"h-8 w-8"}}),c=new an({props:{class:"h-8 w-8 rotate-180"}}),{c(){e=C("div"),O(r.$$.fragment),t=N(),s=C("span"),n=pe(l),a=N(),o=C("div"),O(c.$$.fragment),this.h()},l(f){e=M(f,"DIV",{class:!0});var m=y(e);F(r.$$.fragment,m),t=U(m),s=M(m,"SPAN",{class:!0});var g=y(s);n=we(g,l),g.forEach(u),a=U(m),o=M(m,"DIV",{class:!0});var w=y(o);F(c.$$.fragment,w),w.forEach(u),m.forEach(u),this.h()},h(){k(s,"class","flex-grow px-4 text-xl font-bold"),k(o,"class","btn btn-ghost"),k(e,"class","flex items-center")},m(f,m){S(f,e,m),P(r,e,null),b(e,t),b(e,s),b(s,n),b(e,a),b(e,o),P(c,o,null),h=!0,d||(_=ve(o,"click",i[9]),d=!0)},p(f,m){(!h||m&4)&&l!==(l=f[2].username+"")&&be(n,l)},i(f){h||(p(r.$$.fragment,f),p(c.$$.fragment,f),h=!0)},o(f){$(r.$$.fragment,f),$(c.$$.fragment,f),h=!1},d(f){f&&u(e),R(r),R(c),d=!1,_()}}}function hn(i){let e,r,t;return r=new Gt({props:{class:"h-5 w-5"}}),{c(){e=C("a"),O(r.$$.fragment),this.h()},l(s){e=M(s,"A",{href:!0,class:!0,target:!0,rel:!0});var l=y(e);F(r.$$.fragment,l),l.forEach(u),this.h()},h(){k(e,"href",i[3].href),k(e,"class","btn btn-ghost"),k(e,"target","_blank"),k(e,"rel","noopener noreferrer")},m(s,l){S(s,e,l),P(r,e,null),t=!0},p:I,i(s){t||(p(r.$$.fragment,s),t=!0)},o(s){$(r.$$.fragment,s),t=!1},d(s){s&&u(e),R(r)}}}function dn(i){let e,r,t;return r=new qr({props:{class:"h-5 w-5"}}),{c(){e=C("a"),O(r.$$.fragment),this.h()},l(s){e=M(s,"A",{href:!0,class:!0,target:!0,rel:!0});var l=y(e);F(r.$$.fragment,l),l.forEach(u),this.h()},h(){k(e,"href",i[4].href),k(e,"class","btn btn-ghost"),k(e,"target","_blank"),k(e,"rel","noopener noreferrer")},m(s,l){S(s,e,l),P(r,e,null),t=!0},p:I,i(s){t||(p(r.$$.fragment,s),t=!0)},o(s){$(r.$$.fragment,s),t=!1},d(s){s&&u(e),R(r)}}}function mn(i){let e,r,t,s,l,n,a=i[0].data.appName+"",o,c,h,d=[],_=new Map,f,m,g,w,v,A,T,X,re,z,B,j,q,ie,he=i[0].data.copyright+"",me,fe,de,Be,ke=ye(i[1]);const Se=V=>V[11].title;for(let V=0;V<ke.length;V+=1){let D=it(i,ke,V),Y=Se(D);_.set(Y,d[V]=ht(Y,D))}let Q=i[0].data.features.security&&dt(i),G=i[3].active&&hn(i),te=i[4].active&&dn(i);return q=new cn({props:{class:"h-4 w-4"}}),{c(){e=C("div"),r=C("a"),t=C("img"),l=N(),n=C("h1"),o=pe(a),c=N(),h=C("ul");for(let V=0;V<d.length;V+=1)d[V].c();f=N(),m=C("div"),g=N(),w=C("div"),v=N(),Q&&Q.c(),A=N(),T=C("div"),X=N(),re=C("div"),G&&G.c(),z=N(),te&&te.c(),B=N(),j=C("div"),O(q.$$.fragment),ie=C("span"),me=pe(he),this.h()},l(V){e=M(V,"DIV",{class:!0});var D=y(e);r=M(D,"A",{href:!0,class:!0});var Y=y(r);t=M(Y,"IMG",{src:!0,alt:!0,class:!0}),l=U(Y),n=M(Y,"H1",{class:!0});var Me=y(n);o=we(Me,a),Me.forEach(u),Y.forEach(u),c=U(D),h=M(D,"UL",{class:!0});var Ee=y(h);for(let Pe=0;Pe<d.length;Pe+=1)d[Pe].l(Ee);Ee.forEach(u),f=U(D),m=M(D,"DIV",{class:!0}),y(m).forEach(u),g=U(D),w=M(D,"DIV",{class:!0}),y(w).forEach(u),v=U(D),Q&&Q.l(D),A=U(D),T=M(D,"DIV",{class:!0}),y(T).forEach(u),X=U(D),re=M(D,"DIV",{class:!0});var Ce=y(re);G&&G.l(Ce),z=U(Ce),te&&te.l(Ce),B=U(Ce),j=M(Ce,"DIV",{class:!0});var Oe=y(j);F(q.$$.fragment,Oe),ie=M(Oe,"SPAN",{class:!0});var Xe=y(ie);me=we(Xe,he),Xe.forEach(u),Oe.forEach(u),Ce.forEach(u),D.forEach(u),this.h()},h(){St(t.src,s=Et)||k(t,"src",s),k(t,"alt","Logo"),k(t,"class","h-12 w-12"),k(n,"class","px-4 text-2xl font-bold"),k(r,"href","/"),k(r,"class","rounded-box mb-4 flex items-center hover:scale-[1.02] active:scale-[0.98]"),k(h,"class","menu rounded-box menu-vertical flex-nowrap overflow-y-auto"),k(m,"class","flex-col"),k(w,"class","flex-grow"),k(T,"class","divider my-0"),k(ie,"class","px-2"),k(j,"class","inline-flex flex-grow items-center justify-end text-sm"),k(re,"class","flex items-center"),k(e,"class","bg-base-200 text-base-content flex h-full w-80 flex-col p-4")},m(V,D){S(V,e,D),b(e,r),b(r,t),b(r,l),b(r,n),b(n,o),b(e,c),b(e,h);for(let Y=0;Y<d.length;Y+=1)d[Y]&&d[Y].m(h,null);b(e,f),b(e,m),b(e,g),b(e,w),b(e,v),Q&&Q.m(e,null),b(e,A),b(e,T),b(e,X),b(e,re),G&&G.m(re,null),b(re,z),te&&te.m(re,null),b(re,B),b(re,j),P(q,j,null),b(j,ie),b(ie,me),fe=!0,de||(Be=ve(r,"click",i[6]),de=!0)},p(V,[D]){(!fe||D&1)&&a!==(a=V[0].data.appName+"")&&be(o,a),D&34&&(ke=ye(V[1]),Z(),d=Je(d,D,Se,1,V,ke,_,h,bt,ht,null,it),ee()),V[0].data.features.security?Q?(Q.p(V,D),D&1&&p(Q,1)):(Q=dt(V),Q.c(),p(Q,1),Q.m(e,A)):Q&&(Z(),$(Q,1,1,()=>{Q=null}),ee()),V[3].active&&G.p(V,D),V[4].active&&te.p(V,D),(!fe||D&1)&&he!==(he=V[0].data.copyright+"")&&be(me,he)},i(V){if(!fe){for(let D=0;D<ke.length;D+=1)p(d[D]);p(Q),p(G),p(te),p(q.$$.fragment,V),fe=!0}},o(V){for(let D=0;D<d.length;D+=1)$(d[D]);$(Q),$(G),$(te),$(q.$$.fragment,V),fe=!1},d(V){V&&u(e);for(let D=0;D<d.length;D+=1)d[D].d();Q&&Q.d(),G&&G.d(),te&&te.d(),R(q),de=!1,Be()}}}function _n(i,e,r){let t,s;ue(i,He,m=>r(0,t=m)),ue(i,$e,m=>r(2,s=m));const l={href:"https://github.com/"+t.data.github,active:!1},n={href:".",active:!1};let a=[{title:"Settings",icon:Zr,href:"/settings",feature:!0},{title:"Connections",icon:Qr,feature:t.data.features.mqtt||t.data.features.ntp,submenu:[{title:"MQTT",icon:fr,href:"/connections/mqtt",feature:t.data.features.mqtt},{title:"NTP",icon:ur,href:"/connections/ntp",feature:t.data.features.ntp}]},{title:"WiFi",icon:lr,feature:!0,submenu:[{title:"WiFi Station",icon:ir,href:"/wifi/sta",feature:!0},{title:"Access Point",icon:cr,href:"/wifi/ap",feature:!0}]},{title:"Users",icon:sr,href:"/user",feature:t.data.features.security&&s.admin},{title:"System",icon:Fr,feature:!0,submenu:[{title:"System Status",icon:ar,href:"/system/status",feature:!0},{title:"System Metrics",icon:Jt,href:"/system/metrics",feature:t.data.features.analytics},{title:"Firmware Update",icon:Ct,href:"/system/update",feature:(t.data.features.ota||t.data.features.upload_firmware||t.data.features.download_firmware)&&(!t.data.features.security||s.admin)}]}];const o=jt();function c(m){a.forEach(g=>{var w;g.active=g.title===m,(w=g.submenu)==null||w.forEach(v=>{v.active=v.title===m})}),r(1,a),o("menuClicked")}const h=()=>c(""),d=m=>{c(m.title),r(1,a)},_=m=>{c(m.title),r(1,a)},f=()=>{$e.invalidate()};return i.$$.update=()=>{i.$$.dirty&1&&c(t.data.title)},[t,a,s,l,n,c,h,d,_,f]}class gn extends W{constructor(e){super(),J(this,e,_n,mn,x,{})}}function vn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01m-2.838-2.828a4 4 0 0 1 5.656 0m-8.485-2.829a7.963 7.963 0 0 1 3.864-2.14m4.163.155a7.965 7.965 0 0 1 3.287 2M3.515 9.515A12 12 0 0 1 7.059 7.06m3.101-.92a12 12 0 0 1 10.325 3.374M3 3l18 18"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function pn(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class wn extends W{constructor(e){super(),J(this,e,pn,vn,x,{})}}function bn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function kn(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class $n extends W{constructor(e){super(),J(this,e,kn,bn,x,{})}}function yn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 6a7.75 7.75 0 1 0 10 0m-5-2v8"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function Bn(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class Mt extends W{constructor(e){super(),J(this,e,Bn,yn,x,{})}}function En(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function Cn(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class Mn extends W{constructor(e){super(),J(this,e,Cn,En,x,{})}}function In(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2m1 3v4"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function An(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class Sn extends W{constructor(e){super(),J(this,e,An,In,x,{})}}function Dn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2m1 3v4m3-4v4"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function jn(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class Vn extends W{constructor(e){super(),J(this,e,jn,Dn,x,{})}}function Ln(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2m1 3v4m3-4v4m3-4v4"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function Tn(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class Nn extends W{constructor(e){super(),J(this,e,Tn,Ln,x,{})}}function Un(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2m1 3v4m3-4v4m3-4v4m3-4v4"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function Hn(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class On extends W{constructor(e){super(),J(this,e,Hn,Un,x,{})}}function Pn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 9a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2h-4.5M3 15h6v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2zm3 7v-3m-2-4v-2.5M8 15v-2.5"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function Rn(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class qn extends W{constructor(e){super(),J(this,e,Rn,Pn,x,{})}}function zn(i){let e,r;return e=new Mn({props:{class:(i[2].class||"")+" text-error -rotate-90 animate-pulse"}}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" text-error -rotate-90 animate-pulse"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Gn(i){let e,r;return e=new Sn({props:{class:(i[2].class||"")+" -rotate-90"}}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Fn(i){let e,r;return e=new Vn({props:{class:(i[2].class||"")+" -rotate-90"}}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function xn(i){let e,r;return e=new Nn({props:{class:(i[2].class||"")+" -rotate-90"}}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Wn(i){let e,r;return e=new On({props:{class:(i[2].class||"")+" -rotate-90"}}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Jn(i){let e,r;return e=new qn({props:{class:(i[2].class||"")+" -rotate-90 animate-pulse"}}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90 animate-pulse"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Xn(i){let e,r,t,s,l;const n=[Jn,Wn,xn,Fn,Gn,zn],a=[];function o(c,h){return c[0]?0:c[1]>75?1:c[1]>55?2:c[1]>30?3:c[1]>5?4:5}return r=o(i),t=a[r]=n[r](i),{c(){e=C("div"),t.c(),this.h()},l(c){e=M(c,"DIV",{class:!0,"data-tip":!0});var h=y(e);t.l(h),h.forEach(u),this.h()},h(){k(e,"class","tooltip tooltip-bottom"),k(e,"data-tip",s=i[1]+" %")},m(c,h){S(c,e,h),a[r].m(e,null),l=!0},p(c,[h]){let d=r;r=o(c),r===d?a[r].p(c,h):(Z(),$(a[d],1,1,()=>{a[d]=null}),ee(),t=a[r],t?t.p(c,h):(t=a[r]=n[r](c),t.c()),p(t,1),t.m(e,null)),(!l||h&2&&s!==(s=c[1]+" %"))&&k(e,"data-tip",s)},i(c){l||(p(t),l=!0)},o(c){$(t),l=!1},d(c){c&&u(e),a[r].d()}}}function Qn(i,e,r){let{charging:t=!1}=e,{soc:s=100}=e;return i.$$set=l=>{r(2,e=E(E({},e),L(l))),"charging"in l&&r(0,t=l.charging),"soc"in l&&r(1,s=l.soc)},e=L(e),[t,s,e]}class Yn extends W{constructor(e){super(),J(this,e,Qn,Xn,x,{charging:0,soc:1})}}function mt(i){let e,r,t,s,l,n,a,o;return l=new Ct({props:{class:"h-7 w-7"}}),{c(){e=C("button"),r=C("span"),t=pe(i[1]),s=N(),O(l.$$.fragment),this.h()},l(c){e=M(c,"BUTTON",{class:!0});var h=y(e);r=M(h,"SPAN",{class:!0});var d=y(r);t=we(d,i[1]),d.forEach(u),s=U(h),F(l.$$.fragment,h),h.forEach(u),this.h()},h(){k(r,"class","indicator-item indicator-top indicator-center badge badge-info badge-xs top-2 scale-75 lg:top-1"),k(e,"class","btn btn-square btn-ghost h-9 w-9")},m(c,h){S(c,e,h),b(e,r),b(r,t),b(e,s),P(l,e,null),n=!0,a||(o=ve(e,"click",i[4]),a=!0)},p(c,h){(!n||h&2)&&be(t,c[1])},i(c){n||(p(l.$$.fragment,c),n=!0)},o(c){$(l.$$.fragment,c),n=!1},d(c){c&&u(e),R(l),a=!1,o()}}}function Kn(i){let e,r,t=i[0]&&mt(i);return{c(){t&&t.c(),e=oe()},l(s){t&&t.l(s),e=oe()},m(s,l){t&&t.m(s,l),S(s,e,l),r=!0},p(s,[l]){s[0]?t?(t.p(s,l),l&1&&p(t,1)):(t=mt(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Z(),$(t,1,1,()=>{t=null}),ee())},i(s){r||(p(t),r=!0)},o(s){$(t),r=!1},d(s){s&&u(e),t&&t.d(s)}}}function Zn(i,e,r){let t,s;ue(i,$e,_=>r(5,t=_)),ue(i,He,_=>r(6,s=_));let{update:l=!1}=e,n,a;async function o(){const _=`https://api.github.com/repos/${s.data.github}/releases/latest`;try{const f=await fetch(_,{method:"GET",headers:{accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"}});if(f.status!==200)throw new Error(`Failed to fetch latest release from ${_}`);const m=await f.json();if(r(0,l=!1),r(1,n=""),Ft(m.tag_name,s.data.features.firmware_version)===1)for(let g=0;g<m.assets.length;g++)m.assets[g].name.includes(".bin")&&m.assets[g].name.includes(s.data.features.firmware_built_target)&&(r(0,l=!0),r(1,n=m.tag_name),r(2,a=m.assets[g].browser_download_url),ge.info("Firmware update available.",5e3))}catch(f){console.error("Error:",f)}}async function c(_){try{const f=await fetch("/rest/downloadUpdate",{method:"POST",headers:{Authorization:s.data.features.security?"Bearer "+t.bearer_token:"Basic","Content-Type":"application/json"},body:JSON.stringify({download_url:_})})}catch(f){console.error("Error:",f)}}vt(()=>{s.data.features.download_firmware&&(!s.data.features.security||t.admin)&&(o(),setInterval(async()=>{o()},60*60*1e3))});function h(_){xe($t,{title:"Confirm flashing new firmware to the device",message:"Are you sure you want to overwrite the existing firmware with a new one?",labels:{cancel:{label:"Abort",icon:kt},confirm:{label:"Update",icon:xt}},onConfirm:()=>{c(_),xe(Wt,{onConfirm:()=>tr()})}})}const d=()=>h(a);return i.$$set=_=>{"update"in _&&r(0,l=_.update)},[l,n,a,h,d]}class es extends W{constructor(e){super(),J(this,e,Zn,Kn,x,{update:0})}}function ts(i){let e,r;return e=new or({props:{showDBm:!1,rssi_dbm:i[1].rssi.rssi,ssid:i[1].rssi.ssid,class:"h-7 w-7"}}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&2&&(l.rssi_dbm=t[1].rssi.rssi),s&2&&(l.ssid=t[1].rssi.ssid),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function rs(i){let e,r;return e=new wn({props:{class:"h-7 w-7"}}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p:I,i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function _t(i){let e,r,t;return r=new Yn({props:{charging:i[1].battery.charging,soc:i[1].battery.soc,class:"h-7 w-7"}}),{c(){e=C("div"),O(r.$$.fragment),this.h()},l(s){e=M(s,"DIV",{class:!0});var l=y(e);F(r.$$.fragment,l),l.forEach(u),this.h()},h(){k(e,"class","flex-none")},m(s,l){S(s,e,l),P(r,e,null),t=!0},p(s,l){const n={};l&2&&(n.charging=s[1].battery.charging),l&2&&(n.soc=s[1].battery.soc),r.$set(n)},i(s){t||(p(r.$$.fragment,s),t=!0)},o(s){$(r.$$.fragment,s),t=!1},d(s){s&&u(e),R(r)}}}function gt(i){let e,r,t,s,l,n;return t=new Mt({props:{class:"text-error h-9 w-9"}}),{c(){e=C("div"),r=C("button"),O(t.$$.fragment),this.h()},l(a){e=M(a,"DIV",{class:!0});var o=y(e);r=M(o,"BUTTON",{class:!0});var c=y(r);F(t.$$.fragment,c),c.forEach(u),o.forEach(u),this.h()},h(){k(r,"class","btn btn-square btn-ghost h-9 w-10"),k(e,"class","flex-none")},m(a,o){S(a,e,o),b(e,r),P(t,r,null),s=!0,l||(n=ve(r,"click",i[2]),l=!0)},p:I,i(a){s||(p(t.$$.fragment,a),s=!0)},o(a){$(t.$$.fragment,a),s=!1},d(a){a&&u(e),R(t),l=!1,n()}}}function ns(i){let e,r,t,s,l,n,a=i[0].data.title+"",o,c,h,d,_,f,m,g,w,v,A;s=new $n({props:{class:"h-6 w-auto"}}),d=new es({});const T=[rs,ts],X=[];function re(j,q){return j[1].rssi.disconnected?0:1}m=re(i),g=X[m]=T[m](i);let z=i[0].data.features.battery&&_t(i),B=i[0].data.features.sleep&&gt(i);return{c(){e=C("div"),r=C("div"),t=C("label"),O(s.$$.fragment),l=N(),n=C("span"),o=pe(a),c=N(),h=C("div"),O(d.$$.fragment),_=N(),f=C("div"),g.c(),w=N(),z&&z.c(),v=N(),B&&B.c(),this.h()},l(j){e=M(j,"DIV",{class:!0});var q=y(e);r=M(q,"DIV",{class:!0});var ie=y(r);t=M(ie,"LABEL",{for:!0,class:!0});var he=y(t);F(s.$$.fragment,he),he.forEach(u),l=U(ie),n=M(ie,"SPAN",{class:!0});var me=y(n);o=we(me,a),me.forEach(u),ie.forEach(u),c=U(q),h=M(q,"DIV",{class:!0});var fe=y(h);F(d.$$.fragment,fe),fe.forEach(u),_=U(q),f=M(q,"DIV",{class:!0});var de=y(f);g.l(de),de.forEach(u),w=U(q),z&&z.l(q),v=U(q),B&&B.l(q),q.forEach(u),this.h()},h(){k(t,"for","main-menu"),k(t,"class","btn btn-ghost btn-circle btn-sm drawer-button lg:hidden"),k(n,"class","px-2 text-xl font-bold lg:text-2xl"),k(r,"class","flex-1"),k(h,"class","indicator flex-none"),k(f,"class","flex-none"),k(e,"class","navbar bg-base-300 sticky top-0 z-10 h-12 min-h-fit drop-shadow-lg lg:h-16")},m(j,q){S(j,e,q),b(e,r),b(r,t),P(s,t,null),b(r,l),b(r,n),b(n,o),b(e,c),b(e,h),P(d,h,null),b(e,_),b(e,f),X[m].m(f,null),b(e,w),z&&z.m(e,null),b(e,v),B&&B.m(e,null),A=!0},p(j,[q]){(!A||q&1)&&a!==(a=j[0].data.title+"")&&be(o,a);let ie=m;m=re(j),m===ie?X[m].p(j,q):(Z(),$(X[ie],1,1,()=>{X[ie]=null}),ee(),g=X[m],g?g.p(j,q):(g=X[m]=T[m](j),g.c()),p(g,1),g.m(f,null)),j[0].data.features.battery?z?(z.p(j,q),q&1&&p(z,1)):(z=_t(j),z.c(),p(z,1),z.m(e,v)):z&&(Z(),$(z,1,1,()=>{z=null}),ee()),j[0].data.features.sleep?B?(B.p(j,q),q&1&&p(B,1)):(B=gt(j),B.c(),p(B,1),B.m(e,null)):B&&(Z(),$(B,1,1,()=>{B=null}),ee())},i(j){A||(p(s.$$.fragment,j),p(d.$$.fragment,j),p(g),p(z),p(B),A=!0)},o(j){$(s.$$.fragment,j),$(d.$$.fragment,j),$(g),$(z),$(B),A=!1},d(j){j&&u(e),R(s),R(d),X[m].d(),z&&z.d(),B&&B.d()}}}function ss(i,e,r){let t,s,l;ue(i,$e,o=>r(3,t=o)),ue(i,He,o=>r(0,s=o)),ue(i,Ae,o=>r(1,l=o));async function n(){await fetch("/rest/sleep",{method:"POST",headers:{Authorization:s.data.features.security?"Bearer "+t.bearer_token:"Basic"}})}function a(){xe($t,{title:"Confirm Power Down",message:"Are you sure you want to switch off the device?",labels:{cancel:{label:"Abort",icon:kt},confirm:{label:"Switch Off",icon:Mt}},onConfirm:()=>{yt(),n()}})}return[s,l,a]}class as extends W{constructor(e){super(),J(this,e,ss,ns,x,{})}}function ls(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 8V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2v-2"/><path d="M21 12H8l3-3m0 6l-3-3"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=E(l,s[n]);return{c(){e=ne("svg"),r=new se(!0),this.h()},l(n){e=ae(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=le(a,!0),a.forEach(u),this.h()},h(){r.a=null,H(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){H(e,l=K(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:I,o:I,d(n){n&&u(e)}}}function is(i,e,r){return i.$$set=t=>{r(0,e=E(E({},e),L(t)))},e=L(e),[e]}class os extends W{constructor(e){super(),J(this,e,is,ls,x,{})}}function cs(i){let e,r,t,s=`<img src="${Et}" alt="Logo" class="h-auto w-48 lg:w-64"/>`,l,n,a,o="Login",c,h,d,_='<span class="label-text text-md">Username</span>',f,m,g,w,v='<span class="label-text text-md">Password</span>',A,T,X,re,z,B,j,q,ie="Login",he,me,fe,de,Be,ke;function Se(G){i[5](G)}let Q={id:"pwd"};return i[1]!==void 0&&(Q.value=i[1]),T=new hr({props:Q}),Lt.push(()=>qt(T,"value",Se)),j=new os({props:{class:"mr-2 h-5 w-5"}}),{c(){e=C("div"),r=C("div"),t=C("figure"),t.innerHTML=s,l=N(),n=C("div"),a=C("h2"),a.textContent=o,c=N(),h=C("form"),d=C("label"),d.innerHTML=_,f=N(),m=C("input"),g=N(),w=C("label"),w.innerHTML=v,A=N(),O(T.$$.fragment),re=N(),z=C("div"),B=C("button"),O(j.$$.fragment),q=C("span"),q.textContent=ie,this.h()},l(G){e=M(G,"DIV",{class:!0});var te=y(e);r=M(te,"DIV",{class:!0});var V=y(r);t=M(V,"FIGURE",{class:!0,"data-svelte-h":!0}),Ie(t)!=="svelte-pg0p5y"&&(t.innerHTML=s),l=U(V),n=M(V,"DIV",{class:!0});var D=y(n);a=M(D,"H2",{class:!0,"data-svelte-h":!0}),Ie(a)!=="svelte-c1oa49"&&(a.textContent=o),c=U(D),h=M(D,"FORM",{class:!0});var Y=y(h);d=M(Y,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Ie(d)!=="svelte-1e953ba"&&(d.innerHTML=_),f=U(Y),m=M(Y,"INPUT",{type:!0,class:!0,id:!0}),g=U(Y),w=M(Y,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Ie(w)!=="svelte-1ur0rr9"&&(w.innerHTML=v),A=U(Y),F(T.$$.fragment,Y),re=U(Y),z=M(Y,"DIV",{class:!0});var Me=y(z);B=M(Me,"BUTTON",{class:!0});var Ee=y(B);F(j.$$.fragment,Ee),q=M(Ee,"SPAN",{"data-svelte-h":!0}),Ie(q)!=="svelte-sdljcx"&&(q.textContent=ie),Ee.forEach(u),Me.forEach(u),Y.forEach(u),D.forEach(u),V.forEach(u),te.forEach(u),this.h()},h(){k(t,"class","bg-base-200"),k(a,"class","card-title text-2xl"),k(d,"class","label"),k(d,"for","user"),k(m,"type","text"),k(m,"class","input input-bordered w-full max-w-xs"),k(m,"id","user"),k(w,"class","label"),k(w,"for","pwd"),k(B,"class","btn btn-primary inline-flex items-center"),k(z,"class","card-actions mt-4 justify-end"),k(h,"class","form-control w-full max-w-xs"),k(n,"class","card-body w-80"),k(r,"class",he="card lg:card-side bg-base-100 shadow-primary face shadow-2xl "+(i[2]?"failure border-error border-2":"")+" svelte-198cgfo"),k(e,"class","hero from-primary/30 to-secondary/30 min-h-screen bg-gradient-to-br")},m(G,te){S(G,e,te),b(e,r),b(r,t),b(r,l),b(r,n),b(n,a),b(n,c),b(n,h),b(h,d),b(h,f),b(h,m),Qe(m,i[0]),b(h,g),b(h,w),b(h,A),P(T,h,null),b(h,re),b(h,z),b(z,B),P(j,B,null),b(B,q),de=!0,Be||(ke=[ve(m,"input",i[4]),ve(B,"click",i[6])],Be=!0)},p(G,[te]){te&1&&m.value!==G[0]&&Qe(m,G[0]);const V={};!X&&te&2&&(X=!0,V.value=G[1],Tt(()=>X=!1)),T.$set(V),(!de||te&4&&he!==(he="card lg:card-side bg-base-100 shadow-primary face shadow-2xl "+(G[2]?"failure border-error border-2":"")+" svelte-198cgfo"))&&k(r,"class",he)},i(G){de||(p(T.$$.fragment,G),p(j.$$.fragment,G),G&&We(()=>{de&&(fe&&fe.end(1),me=pt(r,Ge,{delay:200,y:100,duration:500}),me.start())}),de=!0)},o(G){$(T.$$.fragment,G),$(j.$$.fragment,G),me&&me.invalidate(),G&&(fe=wt(r,Fe,{duration:200})),de=!1},d(G){G&&u(e),R(T),R(j),G&&fe&&fe.end(),Be=!1,Dt(ke)}}}function fs(i,e,r){let t;ue(i,$e,_=>r(8,t=_));let s="",l="",n=!1,a={access_token:""};async function o(_){try{const f=await fetch("/rest/signIn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)});if(f.status===200){a=await f.json(),$e.init(a.access_token);let m=t.username;ge.success("User "+m+" signed in",5e3)}else r(0,s=""),r(1,l=""),ge.error("Wrong Username or Password!",5e3),r(2,n=!0),setTimeout(()=>{r(2,n=!1)},1500)}catch(f){console.error("Error:",f)}}function c(){s=this.value,r(0,s)}function h(_){l=_,r(1,l)}return[s,l,n,o,c,h,()=>{o({username:s,password:l})}]}class us extends W{constructor(e){super(),J(this,e,fs,cs,x,{})}}function hs(i){let e,r,t,s,l,n,a,o,c,h,d,_,f,m;l=new as({});const g=i[4].default,w=Le(g,i,i[7],null);return d=new gn({}),d.$on("menuClicked",i[6]),{c(){e=C("div"),r=C("input"),t=N(),s=C("div"),O(l.$$.fragment),n=N(),w&&w.c(),a=N(),o=C("div"),c=C("label"),h=N(),O(d.$$.fragment),this.h()},l(v){e=M(v,"DIV",{class:!0});var A=y(e);r=M(A,"INPUT",{id:!0,type:!0,class:!0}),t=U(A),s=M(A,"DIV",{class:!0});var T=y(s);F(l.$$.fragment,T),n=U(T),w&&w.l(T),T.forEach(u),a=U(A),o=M(A,"DIV",{class:!0});var X=y(o);c=M(X,"LABEL",{for:!0,class:!0}),y(c).forEach(u),h=U(X),F(d.$$.fragment,X),X.forEach(u),A.forEach(u),this.h()},h(){k(r,"id","main-menu"),k(r,"type","checkbox"),k(r,"class","drawer-toggle"),k(s,"class","drawer-content flex flex-col"),k(c,"for","main-menu"),k(c,"class","drawer-overlay"),k(o,"class","drawer-side z-30 shadow-lg"),k(e,"class","drawer lg:drawer-open")},m(v,A){S(v,e,A),b(e,r),r.checked=i[2],b(e,t),b(e,s),P(l,s,null),b(s,n),w&&w.m(s,null),b(e,a),b(e,o),b(o,c),b(o,h),P(d,o,null),_=!0,f||(m=ve(r,"change",i[5]),f=!0)},p(v,A){A&4&&(r.checked=v[2]),w&&w.p&&(!_||A&128)&&Te(w,g,v,v[7],_?Ue(g,v[7],A,null):Ne(v[7]),null)},i(v){_||(p(l.$$.fragment,v),p(w,v),p(d.$$.fragment,v),_=!0)},o(v){$(l.$$.fragment,v),$(w,v),$(d.$$.fragment,v),_=!1},d(v){v&&u(e),R(l),w&&w.d(v),R(d),f=!1,m()}}}function ds(i){let e,r;return e=new us({}),{c(){O(e.$$.fragment)},l(t){F(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p:I,i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function ms(i){let e,r,t,s,l;return{c(){e=C("div"),this.h()},l(n){e=M(n,"DIV",{slot:!0,class:!0}),y(e).forEach(u),this.h()},h(){k(e,"slot","backdrop"),k(e,"class","fixed inset-0 z-40 max-h-full max-w-full bg-black/20 backdrop-blur")},m(n,a){S(n,e,a),t=!0,s||(l=ve(e,"click",yt),s=!0)},p:I,i(n){t||(n&&We(()=>{t&&(r||(r=Ye(e,Fe,{},!0)),r.run(1))}),t=!0)},o(n){n&&(r||(r=Ye(e,Fe,{},!1)),r.run(0)),t=!1},d(n){n&&u(e),n&&r&&r.end(),s=!1,l()}}}function _s(i){let e,r,t,s,l,n,a,o,c;document.title=e=i[0].data.title;const h=[ds,hs],d=[];function _(f,m){return f[0].data.features.security&&f[1].bearer_token===""?0:1}return t=_(i),s=d[t]=h[t](i),n=new jr({props:{$$slots:{backdrop:[ms]},$$scope:{ctx:i}}}),o=new Or({}),{c(){r=N(),s.c(),l=N(),O(n.$$.fragment),a=N(),O(o.$$.fragment)},l(f){Nt("svelte-13v4y7l",document.head).forEach(u),r=U(f),s.l(f),l=U(f),F(n.$$.fragment,f),a=U(f),F(o.$$.fragment,f)},m(f,m){S(f,r,m),d[t].m(f,m),S(f,l,m),P(n,f,m),S(f,a,m),P(o,f,m),c=!0},p(f,[m]){(!c||m&1)&&e!==(e=f[0].data.title)&&(document.title=e);let g=t;t=_(f),t===g?d[t].p(f,m):(Z(),$(d[g],1,1,()=>{d[g]=null}),ee(),s=d[t],s?s.p(f,m):(s=d[t]=h[t](f),s.c()),p(s,1),s.m(l.parentNode,l));const w={};m&128&&(w.$$scope={dirty:m,ctx:f}),n.$set(w)},i(f){c||(p(s),p(n.$$.fragment,f),p(o.$$.fragment,f),c=!0)},o(f){$(s),$(n.$$.fragment,f),$(o.$$.fragment,f),c=!1},d(f){f&&(u(r),u(l),u(a)),d[t].d(f),R(n,f),R(o,f)}}}function gs(i,e,r){let t,s;ue(i,He,B=>r(0,t=B)),ue(i,$e,B=>r(1,s=B));let{$$slots:l={},$$scope:n}=e,{data:a}=e;vt(async()=>{s.bearer_token!==""&&await d(s)});const o=()=>{const B=t.data.features.security?"?access_token="+s.bearer_token:"";ce.init(`ws://${window.location.host}/ws/events${B}`,t.data.features.event_use_json),c()};Ut(()=>{h()});const c=()=>{ce.on("open",_),ce.on("close",f),ce.on("error",m),ce.on("rssi",v),ce.on("notification",g),t.data.features.analytics&&ce.on("analytics",w),t.data.features.battery&&ce.on("battery",A),t.data.features.download_firmware&&ce.on("otastatus",T)},h=()=>{ce.off("analytics",w),ce.off("open",_),ce.off("close",f),ce.off("rssi",v),ce.off("notification",g),ce.off("battery",A),ce.off("otastatus",T)};async function d(B){try{(await fetch("/rest/verifyAuthorization",{method:"GET",headers:{Authorization:"Bearer "+B.bearer_token,"Content-Type":"application/json"}})).status!==200&&$e.invalidate()}catch(j){console.error("Error:",j)}}const _=()=>{ge.success("Connection to device established",5e3)},f=()=>{ge.error("Connection to device lost",5e3),Ae.setRSSI({rssi:0,ssid:""})},m=B=>console.error(B),g=B=>{switch(B.type){case"info":ge.info(B.message,5e3);break;case"warning":ge.warning(B.message,5e3);break;case"error":ge.error(B.message,5e3);break;case"success":ge.success(B.message,5e3);break}},w=B=>Xt.addData(B),v=B=>Ae.setRSSI(B),A=B=>{Ae.setBattery(B),br.addData(B)},T=B=>Ae.setDownloadOTA(B);let X=!1;function re(){X=this.checked,r(2,X)}const z=()=>{r(2,X=!1)};return i.$$set=B=>{"data"in B&&r(3,a=B.data),"$$scope"in B&&r(7,n=B.$$scope)},i.$$.update=()=>{i.$$.dirty&3&&(t.data.features.security&&s.bearer_token===""||o())},[t,s,X,a,l,re,z,n]}class Rs extends W{constructor(e){super(),J(this,e,gs,_s,x,{data:3})}}export{Rs as component,Ps as universal};
