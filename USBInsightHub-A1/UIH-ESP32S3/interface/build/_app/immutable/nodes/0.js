import{n as M,i as Ct,s as F,c as Le,u as Te,g as Ue,a as Ne,b as fe,d as je,e as y,f as It,h as j,j as At,r as St}from"../chunks/utils.js";import{s as N,c as H,i as A,d as f,e as oe,p as ge,q as te,H as re,r as ne,g as B,u as se,v as L,b as C,f as I,h as k,k as pe,l as we,w as b,m as be,x as We,y as ve,z as jt,A as De,B as Dt,o as vt,n as Vt,C as Ie,D as Qe,E as Lt,F as Tt,G as Ut}from"../chunks/scheduler.js";import{n as Nt,l as Ht,f as Ot,h as Pt,S as W,i as J,a as p,g as Z,t as $,c as ee,b as O,d as G,m as P,e as x,j as pt,k as wt,o as xt,p as Ye}from"../chunks/index.js";import{u as $e}from"../chunks/user.js";import{C as Rt,B as zt,c as qt,a as Gt,G as Ft,t as Ae}from"../chunks/compareVersions.js";import{R as Wt,a as Jt}from"../chunks/report-analytics.js";import{w as Xt}from"../chunks/singletons.js";import{s as ce}from"../chunks/socket.js";import{p as He}from"../chunks/stores.js";import{h as Ke,u as Qt}from"../chunks/await_block.js";import{e as ye,u as Je,o as bt,f as Yt}from"../chunks/each.js";import{g as Q,a as Ve,c as Kt,f as qe,b as Ge}from"../chunks/index2.js";import{m as Zt,t as xe,e as Re,o as Fe,X as kt,c as er,C as $t,a as yt}from"../chunks/ConfirmDialog.js";import{n as _e}from"../chunks/notifications.js";import{A as tr}from"../chunks/alert-triangle.js";import{U as rr}from"../chunks/users.js";import{S as nr}from"../chunks/stethoscope.js";import{W as sr,R as ar,a as lr}from"../chunks/RSSIIndicator.js";import{A as ir}from"../chunks/access-point.js";import{T as or}from"../chunks/topology-star-3.js";import{C as cr}from"../chunks/clock-check.js";import{I as ur}from"../chunks/InputPassword.js";function fr(i,e,r,t){if(!e)return M;const s=i.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return M;const{delay:l=0,duration:n=300,easing:a=Ct,start:o=Nt()+l,end:c=o+n,tick:h=M,css:d}=r(i,{from:e,to:s},t);let g=!0,u=!1,m;function _(){d&&(m=Ot(i,0,1,n,l,a,d)),l||(u=!0)}function w(){d&&Pt(i,m),g=!1}return Ht(v=>{if(!u&&v>=o&&(u=!0),u&&v>=c&&(h(1,0),w()),!g)return!1;if(u){const S=v-o,U=0+1*a(S/n);h(U,1-U)}return!0}),_(),h(0,1),w}function hr(i){const e=getComputedStyle(i);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:r,height:t}=e,s=i.getBoundingClientRect();i.style.position="absolute",i.style.width=r,i.style.height=t,Bt(i,s)}}function Bt(i,e){const r=i.getBoundingClientRect();if(e.left!==r.left||e.top!==r.top){const t=getComputedStyle(i),s=t.transform==="none"?"":t.transform;i.style.transform=`${s} translate(${e.left-r.left}px, ${e.top-r.top}px)`}}const dr=!1,mr=!1,gr=async({fetch:i})=>({features:await(await i("/rest/features")).json(),title:"UIH Control Panel",github:"Aeriosolutions/USB-Insight-HUB-Software",copyright:"2025 Aerio Solutions",appName:"USB Insight Hub"}),Js=Object.freeze(Object.defineProperty({__proto__:null,load:gr,prerender:dr,ssr:mr},Symbol.toStringTag,{value:"Module"}));let _r={soc:[],charging:[],timestamp:[]};const ze=3600;function vr(){const{subscribe:i,update:e}=Xt(_r);return{subscribe:i,addData:r=>{e(t=>({...t,soc:[...t.soc,r.soc].slice(-ze),charging:[...t.charging,r.charging?1:0].slice(-ze),timestamp:[...t.timestamp,Date.now()].slice(-ze)}))}}}const pr=vr();function Ze(i,e,r){const t=i.slice();return t[9]=e[r],t[11]=r,t}const wr=i=>({}),et=i=>({}),br=i=>({}),tt=i=>({});function rt(i){let e;const r=i[4].backdrop,t=Le(r,i,i[3],tt);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,l){t&&t.m(s,l),e=!0},p(s,l){t&&t.p&&(!e||l&8)&&Te(t,r,s,s[3],e?Ne(r,s[3],l,br):Ue(s[3]),tt)},i(s){e||(p(t,s),e=!0)},o(s){$(t,s),e=!1},d(s){t&&t.d(s)}}}function kr(i){let e,r,t;const s=[{isOpen:i[11]===i[0].length-1&&!i[1]},i[9].props];var l=i[9].component;function n(a,o){let c={};for(let h=0;h<s.length;h+=1)c=y(c,s[h]);return o!==void 0&&o&3&&(c=y(c,Q(s,[{isOpen:a[11]===a[0].length-1&&!a[1]},o&1&&Ve(a[9].props)]))),{props:c}}return l&&(e=ge(l,n(i)),e.$on("introstart",i[7]),e.$on("outroend",i[8])),{c(){e&&O(e.$$.fragment),r=oe()},l(a){e&&G(e.$$.fragment,a),r=oe()},m(a,o){e&&P(e,a,o),A(a,r,o),t=!0},p(a,o){if(o&1&&l!==(l=a[9].component)){if(e){Z();const c=e;$(c.$$.fragment,1,0,()=>{x(c,1)}),ee()}l?(e=ge(l,n(a,o)),e.$on("introstart",a[7]),e.$on("outroend",a[8]),O(e.$$.fragment),p(e.$$.fragment,1),P(e,r.parentNode,r)):e=null}else if(l){const c=o&3?Q(s,[{isOpen:a[11]===a[0].length-1&&!a[1]},o&1&&Ve(a[9].props)]):{};e.$set(c)}},i(a){t||(e&&p(e.$$.fragment,a),t=!0)},o(a){e&&$(e.$$.fragment,a),t=!1},d(a){a&&f(r),e&&x(e,a)}}}function $r(i){let e,r,t,s={ctx:i,current:null,token:null,hasCatch:!1,pending:Er,then:Br,catch:yr,value:12,blocks:[,,,]};return Ke(r=st(i[9].component),s),{c(){e=oe(),s.block.c()},l(l){e=oe(),s.block.l(l)},m(l,n){A(l,e,n),s.block.m(l,s.anchor=n),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(l,n){i=l,s.ctx=i,n&1&&r!==(r=st(i[9].component))&&Ke(r,s)||Qt(s,i,n)},i(l){t||(p(s.block),t=!0)},o(l){for(let n=0;n<3;n+=1){const a=s.blocks[n];$(a)}t=!1},d(l){l&&f(e),s.block.d(l),s.token=null,s=null}}}function yr(i){return{c:M,l:M,m:M,p:M,i:M,o:M,d:M}}function Br(i){let e,r,t;const s=[{isOpen:i[11]===i[0].length-1&&!i[1]},i[9].props];var l=i[12];function n(a,o){let c={};for(let h=0;h<s.length;h+=1)c=y(c,s[h]);return o!==void 0&&o&3&&(c=y(c,Q(s,[{isOpen:a[11]===a[0].length-1&&!a[1]},o&1&&Ve(a[9].props)]))),{props:c}}return l&&(e=ge(l,n(i)),e.$on("introstart",i[5]),e.$on("outroend",i[6])),{c(){e&&O(e.$$.fragment),r=N()},l(a){e&&G(e.$$.fragment,a),r=H(a)},m(a,o){e&&P(e,a,o),A(a,r,o),t=!0},p(a,o){if(o&1&&l!==(l=a[12])){if(e){Z();const c=e;$(c.$$.fragment,1,0,()=>{x(c,1)}),ee()}l?(e=ge(l,n(a,o)),e.$on("introstart",a[5]),e.$on("outroend",a[6]),O(e.$$.fragment),p(e.$$.fragment,1),P(e,r.parentNode,r)):e=null}else if(l){const c=o&3?Q(s,[{isOpen:a[11]===a[0].length-1&&!a[1]},o&1&&Ve(a[9].props)]):{};e.$set(c)}},i(a){t||(e&&p(e.$$.fragment,a),t=!0)},o(a){e&&$(e.$$.fragment,a),t=!1},d(a){a&&f(r),e&&x(e,a)}}}function Er(i){let e,r;const t=i[4].loading,s=Le(t,i,i[3],et);return{c(){s&&s.c(),e=N()},l(l){s&&s.l(l),e=H(l)},m(l,n){s&&s.m(l,n),A(l,e,n),r=!0},p(l,n){s&&s.p&&(!r||n&8)&&Te(s,t,l,l[3],r?Ne(t,l[3],n,wr):Ue(l[3]),et)},i(l){r||(p(s,l),r=!0)},o(l){$(s,l),r=!1},d(l){l&&f(e),s&&s.d(l)}}}function nt(i,e){let r,t,s,l,n,a;const o=[$r,kr],c=[];function h(d,g){return g&1&&(t=null),t==null&&(t=!!Ir(d[9].component)),t?0:1}return s=h(e,-1),l=c[s]=o[s](e),{key:i,first:null,c(){r=oe(),l.c(),n=oe(),this.h()},l(d){r=oe(),l.l(d),n=oe(),this.h()},h(){this.first=r},m(d,g){A(d,r,g),c[s].m(d,g),A(d,n,g),a=!0},p(d,g){e=d;let u=s;s=h(e,g),s===u?c[s].p(e,g):(Z(),$(c[u],1,1,()=>{c[u]=null}),ee(),l=c[s],l?l.p(e,g):(l=c[s]=o[s](e),l.c()),p(l,1),l.m(n.parentNode,n))},i(d){a||(p(l),a=!0)},o(d){$(l),a=!1},d(d){d&&(f(r),f(n)),c[s].d(d)}}}function Mr(i){let e=[],r=new Map,t,s,l=ye(i[0]);const n=a=>a[11];for(let a=0;a<l.length;a+=1){let o=Ze(i,l,a),c=n(o);r.set(c,e[a]=nt(c,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=oe()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);t=oe()},m(a,o){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,o);A(a,t,o),s=!0},p(a,o){o&15&&(l=ye(a[0]),Z(),e=Je(e,o,n,1,a,l,r,t.parentNode,bt,nt,t,Ze),ee())},i(a){if(!s){for(let o=0;o<l.length;o+=1)p(e[o]);s=!0}},o(a){for(let o=0;o<e.length;o+=1)$(e[o]);s=!1},d(a){a&&f(t);for(let o=0;o<e.length;o+=1)e[o].d(a)}}}function Cr(i){let e,r,t=i[0].length>0&&rt(i);const s=i[4].default,l=Le(s,i,i[3],null),n=l||Mr(i);return{c(){t&&t.c(),e=N(),n&&n.c()},l(a){t&&t.l(a),e=H(a),n&&n.l(a)},m(a,o){t&&t.m(a,o),A(a,e,o),n&&n.m(a,o),r=!0},p(a,[o]){a[0].length>0?t?(t.p(a,o),o&1&&p(t,1)):(t=rt(a),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Z(),$(t,1,1,()=>{t=null}),ee()),l?l.p&&(!r||o&8)&&Te(l,s,a,a[3],r?Ne(s,a[3],o,null):Ue(a[3]),null):n&&n.p&&(!r||o&15)&&n.p(a,r?o:-1)},i(a){r||(p(t),p(n,a),r=!0)},o(a){$(t),$(n,a),r=!1},d(a){a&&f(e),t&&t.d(a),n&&n.d(a)}}}function Ir(i){return typeof i.prototype>"u"}async function st(i){return i().then(e=>e.default)}function Ar(i,e,r){let t,s,l;fe(i,Zt,g=>r(0,t=g)),fe(i,xe,g=>r(1,s=g)),fe(i,Re,g=>r(2,l=g));let{$$slots:n={},$$scope:a}=e;const o=()=>{je(Re,l=!0,l)},c=()=>{je(xe,s=!1,s)},h=()=>{je(Re,l=!0,l)},d=()=>{je(xe,s=!1,s)};return i.$$set=g=>{"$$scope"in g&&r(3,a=g.$$scope)},[t,s,l,a,n,o,c,h,d]}class Sr extends W{constructor(e){super(),J(this,e,Ar,Cr,F,{})}}function jr(i,{from:e,to:r},t={}){const s=getComputedStyle(i),l=s.transform==="none"?"":s.transform,[n,a]=s.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*n/r.width-(r.left+n),c=e.top+e.height*a/r.height-(r.top+a),{delay:h=0,duration:d=u=>Math.sqrt(u)*120,easing:g=Kt}=t;return{delay:h,duration:It(d)?d(Math.sqrt(o*o+c*c)):d,easing:g,css:(u,m)=>{const _=m*o,w=m*c,v=u+m*e.width/r.width,S=u+m*e.height/r.height;return`transform: ${l} translate(${_}px, ${w}px) scale(${v}, ${S});`}}}function Dr(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 1 0 18 0a9 9 0 1 0-18 0"/><path d="m9 12l2 2l4-4"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function Vr(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class Lr extends W{constructor(e){super(),J(this,e,Vr,Dr,F,{})}}function Tr(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0-18 0m9-3h.01"/><path d="M11 12h1v4h1"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function Ur(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class Nr extends W{constructor(e){super(),J(this,e,Ur,Tr,F,{})}}function at(i,e,r){const t=i.slice();return t[3]=e[r],t}function lt(i,e){let r,t,s,l,n=e[3].message+"",a,o,c,h,d,g,u=M,m;var _=e[1][e[3].type];function w(v,S){return{props:{class:"h-6 w-6 flex-shrink-0"}}}return _&&(t=ge(_,w())),{key:i,first:null,c(){r=C("div"),t&&O(t.$$.fragment),s=N(),l=C("span"),a=pe(n),o=N(),this.h()},l(v){r=I(v,"DIV",{class:!0});var S=B(r);t&&G(t.$$.fragment,S),s=H(S),l=I(S,"SPAN",{});var U=B(l);a=we(U,n),U.forEach(f),o=H(S),S.forEach(f),this.h()},h(){k(r,"class",c="alert animate-none "+e[0][e[3].type]),this.first=r},m(v,S){A(v,r,S),t&&P(t,r,null),b(r,s),b(r,l),b(l,a),b(r,o),m=!0},p(v,S){if(e=v,S&6&&_!==(_=e[1][e[3].type])){if(t){Z();const U=t;$(U.$$.fragment,1,0,()=>{x(U,1)}),ee()}_?(t=ge(_,w()),O(t.$$.fragment),p(t.$$.fragment,1),P(t,r,s)):t=null}(!m||S&4)&&n!==(n=e[3].message+"")&&be(a,n),(!m||S&5&&c!==(c="alert animate-none "+e[0][e[3].type]))&&k(r,"class",c)},r(){g=r.getBoundingClientRect()},f(){hr(r),u(),Bt(r,g)},a(){u(),u=fr(r,g,jr,{duration:400})},i(v){m||(t&&p(t.$$.fragment,v),v&&We(()=>{m&&(d&&d.end(1),h=pt(r,qe,{y:100,duration:400}),h.start())}),m=!0)},o(v){t&&$(t.$$.fragment,v),h&&h.invalidate(),v&&(d=wt(r,qe,{x:100,duration:400})),m=!1},d(v){v&&f(r),t&&x(t),v&&d&&d.end()}}}function Hr(i){let e,r=[],t=new Map,s,l=ye(i[2]);const n=a=>a[3].id;for(let a=0;a<l.length;a+=1){let o=at(i,l,a),c=n(o);t.set(c,r[a]=lt(c,o))}return{c(){e=C("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=I(a,"DIV",{class:!0});var o=B(e);for(let c=0;c<r.length;c+=1)r[c].l(o);o.forEach(f),this.h()},h(){k(e,"class","toast toast-end mr-4")},m(a,o){A(a,e,o);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);s=!0},p(a,[o]){if(o&7){l=ye(a[2]),Z();for(let c=0;c<r.length;c+=1)r[c].r();r=Je(r,o,n,1,a,l,t,e,Yt,lt,null,at);for(let c=0;c<r.length;c+=1)r[c].a();ee()}},i(a){if(!s){for(let o=0;o<l.length;o+=1)p(r[o]);s=!0}},o(a){for(let o=0;o<r.length;o+=1)$(r[o]);s=!1},d(a){a&&f(e);for(let o=0;o<r.length;o+=1)r[o].d()}}}function Or(i,e,r){let t;fe(i,_e,n=>r(2,t=n));let{theme:s={error:"alert-error",success:"alert-success",warning:"alert-warning",info:"alert-info"}}=e,{icon:l={error:Rt,success:Lr,warning:tr,info:Nr}}=e;return i.$$set=n=>{"theme"in n&&r(0,s=n.theme),"icon"in n&&r(1,l=n.icon)},[s,l,t]}class Pr extends W{constructor(e){super(),J(this,e,Or,Hr,F,{theme:0,icon:1})}}const xr=""+new URL("../assets/logo_s.png",import.meta.url).href;function Rr(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M8 12a1 1 0 1 0 2 0a1 1 0 0 0-2 0m6 0a1 1 0 1 0 2 0a1 1 0 0 0-2 0"/><path d="M15.5 17c0 1 1.5 3 2 3c1.5 0 2.833-1.667 3.5-3c.667-1.667.5-5.833-1.5-11.5c-1.457-1.015-3-1.34-4.5-1.5l-.972 1.923a11.913 11.913 0 0 0-4.053 0L9 4c-1.5.16-3.043.485-4.5 1.5c-2 5.667-2.167 9.833-1.5 11.5c.667 1.333 2 3 3.5 3c.5 0 2-2 2-3"/><path d="M7 16.5c3.5 1 6.5 1 10 0"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function zr(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class qr extends W{constructor(e){super(),J(this,e,zr,Rr,F,{})}}function Gr(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37c1 .608 2.296.07 2.572-1.065z"/><path d="M9 12a3 3 0 1 0 6 0a3 3 0 0 0-6 0"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function Fr(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class Wr extends W{constructor(e){super(),J(this,e,Fr,Gr,F,{})}}function Jr(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4m-4 4a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4m-4-6v3m0 3h.01"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function Xr(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class Et extends W{constructor(e){super(),J(this,e,Xr,Jr,F,{})}}function Qr(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M6 9a6 6 0 1 0 12 0A6 6 0 0 0 6 9"/><path d="M12 3c1.333.333 2 2.333 2 6s-.667 5.667-2 6m0-12c-1.333.333-2 2.333-2 6s.667 5.667 2 6M6 9h12M3 20h7m4 0h7m-11 0a2 2 0 1 0 4 0a2 2 0 0 0-4 0m2-5v3"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function Yr(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class Kr extends W{constructor(e){super(),J(this,e,Yr,Qr,F,{})}}function Zr(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 10a2 2 0 1 0 4 0a2 2 0 0 0-4 0m2-6v4m0 4v8m4-4a2 2 0 1 0 4 0a2 2 0 0 0-4 0m2-12v10m0 4v2m4-13a2 2 0 1 0 4 0a2 2 0 0 0-4 0m2-3v1m0 4v11"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function en(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class tn extends W{constructor(e){super(),J(this,e,en,Zr,F,{})}}function rn(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 1 0 18 0a9 9 0 1 0-18 0"/><path d="M11 12a1 1 0 1 0 2 0a1 1 0 1 0-2 0m2.41-1.41L16 8m-9 4a5 5 0 0 1 5-5"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function nn(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class sn extends W{constructor(e){super(),J(this,e,nn,rn,F,{})}}function an(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 1 0 18 0a9 9 0 1 0-18 0"/><path d="M9 10a3 3 0 1 0 6 0a3 3 0 1 0-6 0m-2.832 8.849A4 4 0 0 1 10 16h4a4 4 0 0 1 3.834 2.855"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function ln(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class on extends W{constructor(e){super(),J(this,e,ln,an,F,{})}}function cn(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M14 8V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2v-2"/><path d="M9 12h12l-3-3m0 6l3-3"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function un(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class fn extends W{constructor(e){super(),J(this,e,un,cn,F,{})}}function hn(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 1 0 18 0a9 9 0 1 0-18 0"/><path d="M14 9.75a3.016 3.016 0 0 0-4.163.173a2.993 2.993 0 0 0 0 4.154A3.016 3.016 0 0 0 14 14.25"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function dn(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class mn extends W{constructor(e){super(),J(this,e,dn,hn,F,{})}}function gn(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"/><path d="M9 5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v0a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2zm0 7h.01M13 12h2m-6 4h.01M13 16h2"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function _n(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class vn extends W{constructor(e){super(),J(this,e,_n,gn,F,{})}}function it(i,e,r){const t=i.slice();return t[11]=e[r],t[13]=r,t}function ot(i,e,r){const t=i.slice();return t[14]=e[r],t}function ct(i){let e,r,t,s,l;const n=[wn,pn],a=[];function o(c,h){return c[11].submenu?0:1}return r=o(i),t=a[r]=n[r](i),{c(){e=C("li"),t.c(),s=N()},l(c){e=I(c,"LI",{});var h=B(e);t.l(h),s=H(h),h.forEach(f)},m(c,h){A(c,e,h),a[r].m(e,null),b(e,s),l=!0},p(c,h){let d=r;r=o(c),r===d?a[r].p(c,h):(Z(),$(a[d],1,1,()=>{a[d]=null}),ee(),t=a[r],t?t.p(c,h):(t=a[r]=n[r](c),t.c()),p(t,1),t.m(e,s))},i(c){l||(p(t),l=!0)},o(c){$(t),l=!1},d(c){c&&f(e),a[r].d()}}}function pn(i){let e,r,t=i[11].title+"",s,l,n,a,o;var c=i[11].icon;function h(g,u){return{props:{class:"h-6 w-6"}}}c&&(r=ge(c,h()));function d(){return i[8](i[11])}return{c(){e=C("a"),r&&O(r.$$.fragment),s=pe(t),this.h()},l(g){e=I(g,"A",{href:!0,class:!0});var u=B(e);r&&G(r.$$.fragment,u),s=we(u,t),u.forEach(f),this.h()},h(){k(e,"href",l=i[11].href),k(e,"class","text-lg font-bold"),De(e,"bg-base-100",i[11].active)},m(g,u){A(g,e,u),r&&P(r,e,null),b(e,s),n=!0,a||(o=ve(e,"click",d),a=!0)},p(g,u){if(i=g,u&2&&c!==(c=i[11].icon)){if(r){Z();const m=r;$(m.$$.fragment,1,0,()=>{x(m,1)}),ee()}c?(r=ge(c,h()),O(r.$$.fragment),p(r.$$.fragment,1),P(r,e,s)):r=null}(!n||u&2)&&t!==(t=i[11].title+"")&&be(s,t),(!n||u&2&&l!==(l=i[11].href))&&k(e,"href",l),(!n||u&2)&&De(e,"bg-base-100",i[11].active)},i(g){n||(r&&p(r.$$.fragment,g),n=!0)},o(g){r&&$(r.$$.fragment,g),n=!1},d(g){g&&f(e),r&&x(r),a=!1,o()}}}function wn(i){let e,r,t,s,l=i[11].title+"",n,a,o,c;var h=i[11].icon;function d(_,w){return{props:{class:"h-6 w-6"}}}h&&(t=ge(h,d()));let g=ye(i[11].submenu),u=[];for(let _=0;_<g.length;_+=1)u[_]=ft(ot(i,g,_));const m=_=>$(u[_],1,1,()=>{u[_]=null});return{c(){e=C("details"),r=C("summary"),t&&O(t.$$.fragment),s=N(),n=pe(l),a=N(),o=C("ul");for(let _=0;_<u.length;_+=1)u[_].c();this.h()},l(_){e=I(_,"DETAILS",{});var w=B(e);r=I(w,"SUMMARY",{class:!0});var v=B(r);t&&G(t.$$.fragment,v),s=H(v),n=we(v,l),v.forEach(f),a=H(w),o=I(w,"UL",{});var S=B(o);for(let U=0;U<u.length;U+=1)u[U].l(S);S.forEach(f),w.forEach(f),this.h()},h(){k(r,"class","text-lg font-bold")},m(_,w){A(_,e,w),b(e,r),t&&P(t,r,null),b(r,s),b(r,n),b(e,a),b(e,o);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(o,null);c=!0},p(_,w){if(w&2&&h!==(h=_[11].icon)){if(t){Z();const v=t;$(v.$$.fragment,1,0,()=>{x(v,1)}),ee()}h?(t=ge(h,d()),O(t.$$.fragment),p(t.$$.fragment,1),P(t,r,s)):t=null}if((!c||w&2)&&l!==(l=_[11].title+"")&&be(n,l),w&34){g=ye(_[11].submenu);let v;for(v=0;v<g.length;v+=1){const S=ot(_,g,v);u[v]?(u[v].p(S,w),p(u[v],1)):(u[v]=ft(S),u[v].c(),p(u[v],1),u[v].m(o,null))}for(Z(),v=g.length;v<u.length;v+=1)m(v);ee()}},i(_){if(!c){t&&p(t.$$.fragment,_);for(let w=0;w<g.length;w+=1)p(u[w]);c=!0}},o(_){t&&$(t.$$.fragment,_),u=u.filter(Boolean);for(let w=0;w<u.length;w+=1)$(u[w]);c=!1},d(_){_&&f(e),t&&x(t),Dt(u,_)}}}function ut(i){let e,r,t,s=i[14].title+"",l,n,a,o,c,h;var d=i[14].icon;function g(m,_){return{props:{class:"h-5 w-5"}}}d&&(t=ge(d,g()));function u(){return i[7](i[14])}return{c(){e=C("li"),r=C("a"),t&&O(t.$$.fragment),l=pe(s),a=N(),this.h()},l(m){e=I(m,"LI",{class:!0});var _=B(e);r=I(_,"A",{href:!0,class:!0});var w=B(r);t&&G(t.$$.fragment,w),l=we(w,s),w.forEach(f),a=H(_),_.forEach(f),this.h()},h(){k(r,"href",n=i[14].href),k(r,"class","text-ml font-bold"),De(r,"bg-base-100",i[14].active),k(e,"class","hover-bordered")},m(m,_){A(m,e,_),b(e,r),t&&P(t,r,null),b(r,l),b(e,a),o=!0,c||(h=ve(r,"click",u),c=!0)},p(m,_){if(i=m,_&2&&d!==(d=i[14].icon)){if(t){Z();const w=t;$(w.$$.fragment,1,0,()=>{x(w,1)}),ee()}d?(t=ge(d,g()),O(t.$$.fragment),p(t.$$.fragment,1),P(t,r,l)):t=null}(!o||_&2)&&s!==(s=i[14].title+"")&&be(l,s),(!o||_&2&&n!==(n=i[14].href))&&k(r,"href",n),(!o||_&2)&&De(r,"bg-base-100",i[14].active)},i(m){o||(t&&p(t.$$.fragment,m),o=!0)},o(m){t&&$(t.$$.fragment,m),o=!1},d(m){m&&f(e),t&&x(t),c=!1,h()}}}function ft(i){let e,r,t=i[14].feature&&ut(i);return{c(){t&&t.c(),e=oe()},l(s){t&&t.l(s),e=oe()},m(s,l){t&&t.m(s,l),A(s,e,l),r=!0},p(s,l){s[14].feature?t?(t.p(s,l),l&2&&p(t,1)):(t=ut(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Z(),$(t,1,1,()=>{t=null}),ee())},i(s){r||(p(t),r=!0)},o(s){$(t),r=!1},d(s){s&&f(e),t&&t.d(s)}}}function ht(i,e){let r,t,s,l=e[11].feature&&ct(e);return{key:i,first:null,c(){r=oe(),l&&l.c(),t=oe(),this.h()},l(n){r=oe(),l&&l.l(n),t=oe(),this.h()},h(){this.first=r},m(n,a){A(n,r,a),l&&l.m(n,a),A(n,t,a),s=!0},p(n,a){e=n,e[11].feature?l?(l.p(e,a),a&2&&p(l,1)):(l=ct(e),l.c(),p(l,1),l.m(t.parentNode,t)):l&&(Z(),$(l,1,1,()=>{l=null}),ee())},i(n){s||(p(l),s=!0)},o(n){$(l),s=!1},d(n){n&&(f(r),f(t)),l&&l.d(n)}}}function dt(i){let e,r,t,s,l=i[2].username+"",n,a,o,c,h,d,g;return r=new on({props:{class:"h-8 w-8"}}),c=new fn({props:{class:"h-8 w-8 rotate-180"}}),{c(){e=C("div"),O(r.$$.fragment),t=N(),s=C("span"),n=pe(l),a=N(),o=C("div"),O(c.$$.fragment),this.h()},l(u){e=I(u,"DIV",{class:!0});var m=B(e);G(r.$$.fragment,m),t=H(m),s=I(m,"SPAN",{class:!0});var _=B(s);n=we(_,l),_.forEach(f),a=H(m),o=I(m,"DIV",{class:!0});var w=B(o);G(c.$$.fragment,w),w.forEach(f),m.forEach(f),this.h()},h(){k(s,"class","flex-grow px-4 text-xl font-bold"),k(o,"class","btn btn-ghost"),k(e,"class","flex items-center")},m(u,m){A(u,e,m),P(r,e,null),b(e,t),b(e,s),b(s,n),b(e,a),b(e,o),P(c,o,null),h=!0,d||(g=ve(o,"click",i[9]),d=!0)},p(u,m){(!h||m&4)&&l!==(l=u[2].username+"")&&be(n,l)},i(u){h||(p(r.$$.fragment,u),p(c.$$.fragment,u),h=!0)},o(u){$(r.$$.fragment,u),$(c.$$.fragment,u),h=!1},d(u){u&&f(e),x(r),x(c),d=!1,g()}}}function bn(i){let e,r,t;return r=new zt({props:{class:"h-5 w-5"}}),{c(){e=C("a"),O(r.$$.fragment),this.h()},l(s){e=I(s,"A",{href:!0,class:!0,target:!0,rel:!0});var l=B(e);G(r.$$.fragment,l),l.forEach(f),this.h()},h(){k(e,"href",i[3].href),k(e,"class","btn btn-ghost"),k(e,"target","_blank"),k(e,"rel","noopener noreferrer")},m(s,l){A(s,e,l),P(r,e,null),t=!0},p:M,i(s){t||(p(r.$$.fragment,s),t=!0)},o(s){$(r.$$.fragment,s),t=!1},d(s){s&&f(e),x(r)}}}function kn(i){let e,r,t;return r=new qr({props:{class:"h-5 w-5"}}),{c(){e=C("a"),O(r.$$.fragment),this.h()},l(s){e=I(s,"A",{href:!0,class:!0,target:!0,rel:!0});var l=B(e);G(r.$$.fragment,l),l.forEach(f),this.h()},h(){k(e,"href",i[4].href),k(e,"class","btn btn-ghost"),k(e,"target","_blank"),k(e,"rel","noopener noreferrer")},m(s,l){A(s,e,l),P(r,e,null),t=!0},p:M,i(s){t||(p(r.$$.fragment,s),t=!0)},o(s){$(r.$$.fragment,s),t=!1},d(s){s&&f(e),x(r)}}}function $n(i){let e,r,t,s,l,n,a=i[0].data.appName+"",o,c,h,d=[],g=new Map,u,m,_,w,v,S,U,X,le,z,E,V,R,ie,he=i[0].data.copyright+"",me,ue,de,Be,ke=ye(i[1]);const Se=T=>T[11].title;for(let T=0;T<ke.length;T+=1){let D=it(i,ke,T),K=Se(D);g.set(K,d[T]=ht(K,D))}let Y=i[0].data.features.security&&dt(i),q=i[3].active&&bn(i),ae=i[4].active&&kn(i);return R=new mn({props:{class:"h-4 w-4"}}),{c(){e=C("div"),r=C("a"),t=C("img"),l=N(),n=C("h1"),o=pe(a),c=N(),h=C("ul");for(let T=0;T<d.length;T+=1)d[T].c();u=N(),m=C("div"),_=N(),w=C("div"),v=N(),Y&&Y.c(),S=N(),U=C("div"),X=N(),le=C("div"),q&&q.c(),z=N(),ae&&ae.c(),E=N(),V=C("div"),O(R.$$.fragment),ie=C("span"),me=pe(he),this.h()},l(T){e=I(T,"DIV",{class:!0});var D=B(e);r=I(D,"A",{href:!0,class:!0});var K=B(r);t=I(K,"IMG",{src:!0,alt:!0,class:!0}),l=H(K),n=I(K,"H1",{class:!0});var Ce=B(n);o=we(Ce,a),Ce.forEach(f),K.forEach(f),c=H(D),h=I(D,"UL",{class:!0});var Ee=B(h);for(let Pe=0;Pe<d.length;Pe+=1)d[Pe].l(Ee);Ee.forEach(f),u=H(D),m=I(D,"DIV",{class:!0}),B(m).forEach(f),_=H(D),w=I(D,"DIV",{class:!0}),B(w).forEach(f),v=H(D),Y&&Y.l(D),S=H(D),U=I(D,"DIV",{class:!0}),B(U).forEach(f),X=H(D),le=I(D,"DIV",{class:!0});var Me=B(le);q&&q.l(Me),z=H(Me),ae&&ae.l(Me),E=H(Me),V=I(Me,"DIV",{class:!0});var Oe=B(V);G(R.$$.fragment,Oe),ie=I(Oe,"SPAN",{class:!0});var Xe=B(ie);me=we(Xe,he),Xe.forEach(f),Oe.forEach(f),Me.forEach(f),D.forEach(f),this.h()},h(){At(t.src,s=xr)||k(t,"src",s),k(t,"alt","Logo"),k(t,"class","h-6 w-12"),k(n,"class","px-4 text-2xl font-bold"),k(r,"href","/"),k(r,"class","rounded-box mb-4 flex items-center hover:scale-[1.02] active:scale-[0.98]"),k(h,"class","menu rounded-box menu-vertical flex-nowrap overflow-y-auto"),k(m,"class","flex-col"),k(w,"class","flex-grow"),k(U,"class","divider my-0"),k(ie,"class","px-2"),k(V,"class","inline-flex flex-grow items-center justify-end text-sm"),k(le,"class","flex items-center"),k(e,"class","bg-base-200 text-base-content flex h-full w-80 flex-col p-4")},m(T,D){A(T,e,D),b(e,r),b(r,t),b(r,l),b(r,n),b(n,o),b(e,c),b(e,h);for(let K=0;K<d.length;K+=1)d[K]&&d[K].m(h,null);b(e,u),b(e,m),b(e,_),b(e,w),b(e,v),Y&&Y.m(e,null),b(e,S),b(e,U),b(e,X),b(e,le),q&&q.m(le,null),b(le,z),ae&&ae.m(le,null),b(le,E),b(le,V),P(R,V,null),b(V,ie),b(ie,me),ue=!0,de||(Be=ve(r,"click",i[6]),de=!0)},p(T,[D]){(!ue||D&1)&&a!==(a=T[0].data.appName+"")&&be(o,a),D&34&&(ke=ye(T[1]),Z(),d=Je(d,D,Se,1,T,ke,g,h,bt,ht,null,it),ee()),T[0].data.features.security?Y?(Y.p(T,D),D&1&&p(Y,1)):(Y=dt(T),Y.c(),p(Y,1),Y.m(e,S)):Y&&(Z(),$(Y,1,1,()=>{Y=null}),ee()),T[3].active&&q.p(T,D),T[4].active&&ae.p(T,D),(!ue||D&1)&&he!==(he=T[0].data.copyright+"")&&be(me,he)},i(T){if(!ue){for(let D=0;D<ke.length;D+=1)p(d[D]);p(Y),p(q),p(ae),p(R.$$.fragment,T),ue=!0}},o(T){for(let D=0;D<d.length;D+=1)$(d[D]);$(Y),$(q),$(ae),$(R.$$.fragment,T),ue=!1},d(T){T&&f(e);for(let D=0;D<d.length;D+=1)d[D].d();Y&&Y.d(),q&&q.d(),ae&&ae.d(),x(R),de=!1,Be()}}}function yn(i,e,r){let t,s;fe(i,He,m=>r(0,t=m)),fe(i,$e,m=>r(2,s=m));const l={href:"https://github.com/"+t.data.github,active:!1},n={href:".",active:!1};let a=[{title:"Control Panel",icon:sn,href:"/panel",feature:!0},{title:"Settings",icon:tn,href:"/settings",feature:!0},{title:"Connections",icon:Kr,feature:t.data.features.mqtt||t.data.features.ntp,submenu:[{title:"MQTT",icon:or,href:"/connections/mqtt",feature:t.data.features.mqtt},{title:"NTP",icon:cr,href:"/connections/ntp",feature:t.data.features.ntp}]},{title:"WiFi",icon:sr,feature:!0,submenu:[{title:"WiFi Station",icon:ar,href:"/wifi/sta",feature:!0},{title:"Access Point",icon:ir,href:"/wifi/ap",feature:!0}]},{title:"Users",icon:rr,href:"/user",feature:t.data.features.security&&s.admin},{title:"System",icon:Wr,feature:!0,submenu:[{title:"System Status",icon:nr,href:"/system/status",feature:!0},{title:"System Metrics",icon:Wt,href:"/system/metrics",feature:t.data.features.analytics},{title:"Firmware Update",icon:Et,href:"/system/update",feature:(t.data.features.ota||t.data.features.upload_firmware||t.data.features.download_firmware)&&(!t.data.features.security||s.admin)},{title:"About",icon:vn,href:"/system/about",feature:!0}]}];const o=jt();function c(m){a.forEach(_=>{var w;_.active=_.title===m,(w=_.submenu)==null||w.forEach(v=>{v.active=v.title===m})}),r(1,a),o("menuClicked")}const h=()=>c(""),d=m=>{c(m.title),r(1,a)},g=m=>{c(m.title),r(1,a)},u=()=>{$e.invalidate()};return i.$$.update=()=>{i.$$.dirty&1&&c(t.data.title)},[t,a,s,l,n,c,h,d,g,u]}class Bn extends W{constructor(e){super(),J(this,e,yn,$n,F,{})}}function En(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01m-2.838-2.828a4 4 0 0 1 5.656 0m-8.485-2.829a7.963 7.963 0 0 1 3.864-2.14m4.163.155a7.965 7.965 0 0 1 3.287 2M3.515 9.515A12 12 0 0 1 7.059 7.06m3.101-.92a12 12 0 0 1 10.325 3.374M3 3l18 18"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function Mn(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class Cn extends W{constructor(e){super(),J(this,e,Mn,En,F,{})}}function In(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function An(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class Sn extends W{constructor(e){super(),J(this,e,An,In,F,{})}}function jn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 6a7.75 7.75 0 1 0 10 0m-5-2v8"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function Dn(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class Mt extends W{constructor(e){super(),J(this,e,Dn,jn,F,{})}}function Vn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function Ln(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class Tn extends W{constructor(e){super(),J(this,e,Ln,Vn,F,{})}}function Un(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2m1 3v4"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function Nn(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class Hn extends W{constructor(e){super(),J(this,e,Nn,Un,F,{})}}function On(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2m1 3v4m3-4v4"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function Pn(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class xn extends W{constructor(e){super(),J(this,e,Pn,On,F,{})}}function Rn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2m1 3v4m3-4v4m3-4v4"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function zn(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class qn extends W{constructor(e){super(),J(this,e,zn,Rn,F,{})}}function Gn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2m1 3v4m3-4v4m3-4v4m3-4v4"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function Fn(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class Wn extends W{constructor(e){super(),J(this,e,Fn,Gn,F,{})}}function Jn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 9a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2h-4.5M3 15h6v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2zm3 7v-3m-2-4v-2.5M8 15v-2.5"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function Xn(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class Qn extends W{constructor(e){super(),J(this,e,Xn,Jn,F,{})}}function Yn(i){let e,r;return e=new Tn({props:{class:(i[2].class||"")+" text-error -rotate-90 animate-pulse"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" text-error -rotate-90 animate-pulse"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){x(e,t)}}}function Kn(i){let e,r;return e=new Hn({props:{class:(i[2].class||"")+" -rotate-90"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){x(e,t)}}}function Zn(i){let e,r;return e=new xn({props:{class:(i[2].class||"")+" -rotate-90"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){x(e,t)}}}function es(i){let e,r;return e=new qn({props:{class:(i[2].class||"")+" -rotate-90"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){x(e,t)}}}function ts(i){let e,r;return e=new Wn({props:{class:(i[2].class||"")+" -rotate-90"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){x(e,t)}}}function rs(i){let e,r;return e=new Qn({props:{class:(i[2].class||"")+" -rotate-90 animate-pulse"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90 animate-pulse"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){x(e,t)}}}function ns(i){let e,r,t,s,l;const n=[rs,ts,es,Zn,Kn,Yn],a=[];function o(c,h){return c[0]?0:c[1]>75?1:c[1]>55?2:c[1]>30?3:c[1]>5?4:5}return r=o(i),t=a[r]=n[r](i),{c(){e=C("div"),t.c(),this.h()},l(c){e=I(c,"DIV",{class:!0,"data-tip":!0});var h=B(e);t.l(h),h.forEach(f),this.h()},h(){k(e,"class","tooltip tooltip-bottom"),k(e,"data-tip",s=i[1]+" %")},m(c,h){A(c,e,h),a[r].m(e,null),l=!0},p(c,[h]){let d=r;r=o(c),r===d?a[r].p(c,h):(Z(),$(a[d],1,1,()=>{a[d]=null}),ee(),t=a[r],t?t.p(c,h):(t=a[r]=n[r](c),t.c()),p(t,1),t.m(e,null)),(!l||h&2&&s!==(s=c[1]+" %"))&&k(e,"data-tip",s)},i(c){l||(p(t),l=!0)},o(c){$(t),l=!1},d(c){c&&f(e),a[r].d()}}}function ss(i,e,r){let{charging:t=!1}=e,{soc:s=100}=e;return i.$$set=l=>{r(2,e=y(y({},e),j(l))),"charging"in l&&r(0,t=l.charging),"soc"in l&&r(1,s=l.soc)},e=j(e),[t,s,e]}class as extends W{constructor(e){super(),J(this,e,ss,ns,F,{charging:0,soc:1})}}function mt(i){let e,r,t,s,l,n,a,o;return l=new Et({props:{class:"h-7 w-7"}}),{c(){e=C("button"),r=C("span"),t=pe(i[1]),s=N(),O(l.$$.fragment),this.h()},l(c){e=I(c,"BUTTON",{class:!0});var h=B(e);r=I(h,"SPAN",{class:!0});var d=B(r);t=we(d,i[1]),d.forEach(f),s=H(h),G(l.$$.fragment,h),h.forEach(f),this.h()},h(){k(r,"class","indicator-item indicator-top indicator-center badge badge-info badge-xs top-2 scale-75 lg:top-1"),k(e,"class","btn btn-square btn-ghost h-9 w-9")},m(c,h){A(c,e,h),b(e,r),b(r,t),b(e,s),P(l,e,null),n=!0,a||(o=ve(e,"click",i[4]),a=!0)},p(c,h){(!n||h&2)&&be(t,c[1])},i(c){n||(p(l.$$.fragment,c),n=!0)},o(c){$(l.$$.fragment,c),n=!1},d(c){c&&f(e),x(l),a=!1,o()}}}function ls(i){let e,r,t=i[0]&&mt(i);return{c(){t&&t.c(),e=oe()},l(s){t&&t.l(s),e=oe()},m(s,l){t&&t.m(s,l),A(s,e,l),r=!0},p(s,[l]){s[0]?t?(t.p(s,l),l&1&&p(t,1)):(t=mt(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Z(),$(t,1,1,()=>{t=null}),ee())},i(s){r||(p(t),r=!0)},o(s){$(t),r=!1},d(s){s&&f(e),t&&t.d(s)}}}function is(i,e,r){let t,s;fe(i,$e,g=>r(5,t=g)),fe(i,He,g=>r(6,s=g));let{update:l=!1}=e,n,a;async function o(){const g=`https://api.github.com/repos/${s.data.github}/releases/latest`;try{const u=await fetch(g,{method:"GET",headers:{accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"}});if(u.status!==200)throw new Error(`Failed to fetch latest release from ${g}`);const m=await u.json();if(r(0,l=!1),r(1,n=""),qt(m.tag_name,s.data.features.firmware_version)===1)for(let _=0;_<m.assets.length;_++)m.assets[_].name.includes(".bin")&&m.assets[_].name.includes(s.data.features.firmware_built_target)&&(r(0,l=!0),r(1,n=m.tag_name),r(2,a=m.assets[_].browser_download_url),_e.info("Firmware update available.",5e3))}catch(u){console.error("Error:",u)}}async function c(g){try{const u=await fetch("/rest/downloadUpdate",{method:"POST",headers:{Authorization:s.data.features.security?"Bearer "+t.bearer_token:"Basic","Content-Type":"application/json"},body:JSON.stringify({download_url:g})})}catch(u){console.error("Error:",u)}}vt(()=>{s.data.features.download_firmware&&(!s.data.features.security||t.admin)&&(o(),setInterval(async()=>{o()},60*60*1e3))});function h(g){Fe($t,{title:"Confirm flashing new firmware to the device",message:"Are you sure you want to overwrite the existing firmware with a new one?",labels:{cancel:{label:"Abort",icon:kt},confirm:{label:"Update",icon:Gt}},onConfirm:()=>{c(g),Fe(Ft,{onConfirm:()=>er()})}})}const d=()=>h(a);return i.$$set=g=>{"update"in g&&r(0,l=g.update)},[l,n,a,h,d]}class os extends W{constructor(e){super(),J(this,e,is,ls,F,{update:0})}}function cs(i){let e,r;return e=new lr({props:{showDBm:!1,rssi_dbm:i[1].rssi.rssi,ssid:i[1].rssi.ssid,class:"h-7 w-7"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&2&&(l.rssi_dbm=t[1].rssi.rssi),s&2&&(l.ssid=t[1].rssi.ssid),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){x(e,t)}}}function us(i){let e,r;return e=new Cn({props:{class:"h-7 w-7"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p:M,i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){x(e,t)}}}function gt(i){let e,r,t;return r=new as({props:{charging:i[1].battery.charging,soc:i[1].battery.soc,class:"h-7 w-7"}}),{c(){e=C("div"),O(r.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var l=B(e);G(r.$$.fragment,l),l.forEach(f),this.h()},h(){k(e,"class","flex-none")},m(s,l){A(s,e,l),P(r,e,null),t=!0},p(s,l){const n={};l&2&&(n.charging=s[1].battery.charging),l&2&&(n.soc=s[1].battery.soc),r.$set(n)},i(s){t||(p(r.$$.fragment,s),t=!0)},o(s){$(r.$$.fragment,s),t=!1},d(s){s&&f(e),x(r)}}}function _t(i){let e,r,t,s,l,n;return t=new Mt({props:{class:"text-error h-9 w-9"}}),{c(){e=C("div"),r=C("button"),O(t.$$.fragment),this.h()},l(a){e=I(a,"DIV",{class:!0});var o=B(e);r=I(o,"BUTTON",{class:!0});var c=B(r);G(t.$$.fragment,c),c.forEach(f),o.forEach(f),this.h()},h(){k(r,"class","btn btn-square btn-ghost h-9 w-10"),k(e,"class","flex-none")},m(a,o){A(a,e,o),b(e,r),P(t,r,null),s=!0,l||(n=ve(r,"click",i[2]),l=!0)},p:M,i(a){s||(p(t.$$.fragment,a),s=!0)},o(a){$(t.$$.fragment,a),s=!1},d(a){a&&f(e),x(t),l=!1,n()}}}function fs(i){let e,r,t,s,l,n,a=i[0].data.title+"",o,c,h,d,g,u,m,_,w,v,S;s=new Sn({props:{class:"h-6 w-auto"}}),d=new os({});const U=[us,cs],X=[];function le(V,R){return V[1].rssi.disconnected?0:1}m=le(i),_=X[m]=U[m](i);let z=i[0].data.features.battery&&gt(i),E=i[0].data.features.sleep&&_t(i);return{c(){e=C("div"),r=C("div"),t=C("label"),O(s.$$.fragment),l=N(),n=C("span"),o=pe(a),c=N(),h=C("div"),O(d.$$.fragment),g=N(),u=C("div"),_.c(),w=N(),z&&z.c(),v=N(),E&&E.c(),this.h()},l(V){e=I(V,"DIV",{class:!0});var R=B(e);r=I(R,"DIV",{class:!0});var ie=B(r);t=I(ie,"LABEL",{for:!0,class:!0});var he=B(t);G(s.$$.fragment,he),he.forEach(f),l=H(ie),n=I(ie,"SPAN",{class:!0});var me=B(n);o=we(me,a),me.forEach(f),ie.forEach(f),c=H(R),h=I(R,"DIV",{class:!0});var ue=B(h);G(d.$$.fragment,ue),ue.forEach(f),g=H(R),u=I(R,"DIV",{class:!0});var de=B(u);_.l(de),de.forEach(f),w=H(R),z&&z.l(R),v=H(R),E&&E.l(R),R.forEach(f),this.h()},h(){k(t,"for","main-menu"),k(t,"class","btn btn-ghost btn-circle btn-sm drawer-button lg:hidden"),k(n,"class","px-2 text-xl font-bold lg:text-2xl"),k(r,"class","flex-1"),k(h,"class","indicator flex-none"),k(u,"class","flex-none"),k(e,"class","navbar bg-base-300 sticky top-0 z-10 h-12 min-h-fit drop-shadow-lg lg:h-16")},m(V,R){A(V,e,R),b(e,r),b(r,t),P(s,t,null),b(r,l),b(r,n),b(n,o),b(e,c),b(e,h),P(d,h,null),b(e,g),b(e,u),X[m].m(u,null),b(e,w),z&&z.m(e,null),b(e,v),E&&E.m(e,null),S=!0},p(V,[R]){(!S||R&1)&&a!==(a=V[0].data.title+"")&&be(o,a);let ie=m;m=le(V),m===ie?X[m].p(V,R):(Z(),$(X[ie],1,1,()=>{X[ie]=null}),ee(),_=X[m],_?_.p(V,R):(_=X[m]=U[m](V),_.c()),p(_,1),_.m(u,null)),V[0].data.features.battery?z?(z.p(V,R),R&1&&p(z,1)):(z=gt(V),z.c(),p(z,1),z.m(e,v)):z&&(Z(),$(z,1,1,()=>{z=null}),ee()),V[0].data.features.sleep?E?(E.p(V,R),R&1&&p(E,1)):(E=_t(V),E.c(),p(E,1),E.m(e,null)):E&&(Z(),$(E,1,1,()=>{E=null}),ee())},i(V){S||(p(s.$$.fragment,V),p(d.$$.fragment,V),p(_),p(z),p(E),S=!0)},o(V){$(s.$$.fragment,V),$(d.$$.fragment,V),$(_),$(z),$(E),S=!1},d(V){V&&f(e),x(s),x(d),X[m].d(),z&&z.d(),E&&E.d()}}}function hs(i,e,r){let t,s,l;fe(i,$e,o=>r(3,t=o)),fe(i,He,o=>r(0,s=o)),fe(i,Ae,o=>r(1,l=o));async function n(){await fetch("/rest/sleep",{method:"POST",headers:{Authorization:s.data.features.security?"Bearer "+t.bearer_token:"Basic"}})}function a(){Fe($t,{title:"Confirm Power Down",message:"Are you sure you want to switch off the device?",labels:{cancel:{label:"Abort",icon:kt},confirm:{label:"Switch Off",icon:Mt}},onConfirm:()=>{yt(),n()}})}return[s,l,a]}class ds extends W{constructor(e){super(),J(this,e,hs,fs,F,{})}}const ms=""+new URL("../assets/logo.png",import.meta.url).href;function gs(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 8V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2v-2"/><path d="M21 12H8l3-3m0 6l-3-3"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=y(l,s[n]);return{c(){e=te("svg"),r=new re(!0),this.h()},l(n){e=ne(n,"svg",{viewBox:!0,width:!0,height:!0});var a=B(e);r=se(a,!0),a.forEach(f),this.h()},h(){r.a=null,L(e,l)},m(n,a){A(n,e,a),r.m(t,e)},p(n,[a]){L(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:M,o:M,d(n){n&&f(e)}}}function _s(i,e,r){return i.$$set=t=>{r(0,e=y(y({},e),j(t)))},e=j(e),[e]}class vs extends W{constructor(e){super(),J(this,e,_s,gs,F,{})}}function ps(i){let e,r,t,s=`<img src="${ms}" alt="Logo" class="h-auto w-48 lg:w-64"/>`,l,n,a,o="Login",c,h,d,g='<span class="label-text text-md">Username</span>',u,m,_,w,v='<span class="label-text text-md">Password</span>',S,U,X,le,z,E,V,R,ie="Login",he,me,ue,de,Be,ke;function Se(q){i[5](q)}let Y={id:"pwd"};return i[1]!==void 0&&(Y.value=i[1]),U=new ur({props:Y}),Vt.push(()=>xt(U,"value",Se)),V=new vs({props:{class:"mr-2 h-5 w-5"}}),{c(){e=C("div"),r=C("div"),t=C("figure"),t.innerHTML=s,l=N(),n=C("div"),a=C("h2"),a.textContent=o,c=N(),h=C("form"),d=C("label"),d.innerHTML=g,u=N(),m=C("input"),_=N(),w=C("label"),w.innerHTML=v,S=N(),O(U.$$.fragment),le=N(),z=C("div"),E=C("button"),O(V.$$.fragment),R=C("span"),R.textContent=ie,this.h()},l(q){e=I(q,"DIV",{class:!0});var ae=B(e);r=I(ae,"DIV",{class:!0});var T=B(r);t=I(T,"FIGURE",{class:!0,"data-svelte-h":!0}),Ie(t)!=="svelte-pg0p5y"&&(t.innerHTML=s),l=H(T),n=I(T,"DIV",{class:!0});var D=B(n);a=I(D,"H2",{class:!0,"data-svelte-h":!0}),Ie(a)!=="svelte-c1oa49"&&(a.textContent=o),c=H(D),h=I(D,"FORM",{class:!0});var K=B(h);d=I(K,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Ie(d)!=="svelte-1e953ba"&&(d.innerHTML=g),u=H(K),m=I(K,"INPUT",{type:!0,class:!0,id:!0}),_=H(K),w=I(K,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Ie(w)!=="svelte-1ur0rr9"&&(w.innerHTML=v),S=H(K),G(U.$$.fragment,K),le=H(K),z=I(K,"DIV",{class:!0});var Ce=B(z);E=I(Ce,"BUTTON",{class:!0});var Ee=B(E);G(V.$$.fragment,Ee),R=I(Ee,"SPAN",{"data-svelte-h":!0}),Ie(R)!=="svelte-sdljcx"&&(R.textContent=ie),Ee.forEach(f),Ce.forEach(f),K.forEach(f),D.forEach(f),T.forEach(f),ae.forEach(f),this.h()},h(){k(t,"class","bg-base-200"),k(a,"class","card-title text-2xl"),k(d,"class","label"),k(d,"for","user"),k(m,"type","text"),k(m,"class","input input-bordered w-full max-w-xs"),k(m,"id","user"),k(w,"class","label"),k(w,"for","pwd"),k(E,"class","btn btn-primary inline-flex items-center"),k(z,"class","card-actions mt-4 justify-end"),k(h,"class","form-control w-full max-w-xs"),k(n,"class","card-body w-80"),k(r,"class",he="card lg:card-side bg-base-100 shadow-primary face shadow-2xl "+(i[2]?"failure border-error border-2":"")+" svelte-198cgfo"),k(e,"class","hero from-primary/30 to-secondary/30 min-h-screen bg-gradient-to-br")},m(q,ae){A(q,e,ae),b(e,r),b(r,t),b(r,l),b(r,n),b(n,a),b(n,c),b(n,h),b(h,d),b(h,u),b(h,m),Qe(m,i[0]),b(h,_),b(h,w),b(h,S),P(U,h,null),b(h,le),b(h,z),b(z,E),P(V,E,null),b(E,R),de=!0,Be||(ke=[ve(m,"input",i[4]),ve(E,"click",i[6])],Be=!0)},p(q,[ae]){ae&1&&m.value!==q[0]&&Qe(m,q[0]);const T={};!X&&ae&2&&(X=!0,T.value=q[1],Lt(()=>X=!1)),U.$set(T),(!de||ae&4&&he!==(he="card lg:card-side bg-base-100 shadow-primary face shadow-2xl "+(q[2]?"failure border-error border-2":"")+" svelte-198cgfo"))&&k(r,"class",he)},i(q){de||(p(U.$$.fragment,q),p(V.$$.fragment,q),q&&We(()=>{de&&(ue&&ue.end(1),me=pt(r,qe,{delay:200,y:100,duration:500}),me.start())}),de=!0)},o(q){$(U.$$.fragment,q),$(V.$$.fragment,q),me&&me.invalidate(),q&&(ue=wt(r,Ge,{duration:200})),de=!1},d(q){q&&f(e),x(U),x(V),q&&ue&&ue.end(),Be=!1,St(ke)}}}function ws(i,e,r){let t;fe(i,$e,g=>r(8,t=g));let s="",l="",n=!1,a={access_token:""};async function o(g){try{const u=await fetch("/rest/signIn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(u.status===200){a=await u.json(),$e.init(a.access_token);let m=t.username;_e.success("User "+m+" signed in",5e3)}else r(0,s=""),r(1,l=""),_e.error("Wrong Username or Password!",5e3),r(2,n=!0),setTimeout(()=>{r(2,n=!1)},1500)}catch(u){console.error("Error:",u)}}function c(){s=this.value,r(0,s)}function h(g){l=g,r(1,l)}return[s,l,n,o,c,h,()=>{o({username:s,password:l})}]}class bs extends W{constructor(e){super(),J(this,e,ws,ps,F,{})}}function ks(i){let e,r,t,s,l,n,a,o,c,h,d,g,u,m;l=new ds({});const _=i[4].default,w=Le(_,i,i[7],null);return d=new Bn({}),d.$on("menuClicked",i[6]),{c(){e=C("div"),r=C("input"),t=N(),s=C("div"),O(l.$$.fragment),n=N(),w&&w.c(),a=N(),o=C("div"),c=C("label"),h=N(),O(d.$$.fragment),this.h()},l(v){e=I(v,"DIV",{class:!0});var S=B(e);r=I(S,"INPUT",{id:!0,type:!0,class:!0}),t=H(S),s=I(S,"DIV",{class:!0});var U=B(s);G(l.$$.fragment,U),n=H(U),w&&w.l(U),U.forEach(f),a=H(S),o=I(S,"DIV",{class:!0});var X=B(o);c=I(X,"LABEL",{for:!0,class:!0}),B(c).forEach(f),h=H(X),G(d.$$.fragment,X),X.forEach(f),S.forEach(f),this.h()},h(){k(r,"id","main-menu"),k(r,"type","checkbox"),k(r,"class","drawer-toggle"),k(s,"class","drawer-content flex flex-col"),k(c,"for","main-menu"),k(c,"class","drawer-overlay"),k(o,"class","drawer-side z-30 shadow-lg"),k(e,"class","drawer lg:drawer-open")},m(v,S){A(v,e,S),b(e,r),r.checked=i[2],b(e,t),b(e,s),P(l,s,null),b(s,n),w&&w.m(s,null),b(e,a),b(e,o),b(o,c),b(o,h),P(d,o,null),g=!0,u||(m=ve(r,"change",i[5]),u=!0)},p(v,S){S&4&&(r.checked=v[2]),w&&w.p&&(!g||S&128)&&Te(w,_,v,v[7],g?Ne(_,v[7],S,null):Ue(v[7]),null)},i(v){g||(p(l.$$.fragment,v),p(w,v),p(d.$$.fragment,v),g=!0)},o(v){$(l.$$.fragment,v),$(w,v),$(d.$$.fragment,v),g=!1},d(v){v&&f(e),x(l),w&&w.d(v),x(d),u=!1,m()}}}function $s(i){let e,r;return e=new bs({}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p:M,i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){x(e,t)}}}function ys(i){let e,r,t,s,l;return{c(){e=C("div"),this.h()},l(n){e=I(n,"DIV",{slot:!0,class:!0}),B(e).forEach(f),this.h()},h(){k(e,"slot","backdrop"),k(e,"class","fixed inset-0 z-40 max-h-full max-w-full bg-black/20 backdrop-blur")},m(n,a){A(n,e,a),t=!0,s||(l=ve(e,"click",yt),s=!0)},p:M,i(n){t||(n&&We(()=>{t&&(r||(r=Ye(e,Ge,{},!0)),r.run(1))}),t=!0)},o(n){n&&(r||(r=Ye(e,Ge,{},!1)),r.run(0)),t=!1},d(n){n&&f(e),n&&r&&r.end(),s=!1,l()}}}function Bs(i){let e,r,t,s,l,n,a,o,c;document.title=e=i[0].data.title;const h=[$s,ks],d=[];function g(u,m){return u[0].data.features.security&&u[1].bearer_token===""?0:1}return t=g(i),s=d[t]=h[t](i),n=new Sr({props:{$$slots:{backdrop:[ys]},$$scope:{ctx:i}}}),o=new Pr({}),{c(){r=N(),s.c(),l=N(),O(n.$$.fragment),a=N(),O(o.$$.fragment)},l(u){Tt("svelte-13v4y7l",document.head).forEach(f),r=H(u),s.l(u),l=H(u),G(n.$$.fragment,u),a=H(u),G(o.$$.fragment,u)},m(u,m){A(u,r,m),d[t].m(u,m),A(u,l,m),P(n,u,m),A(u,a,m),P(o,u,m),c=!0},p(u,[m]){(!c||m&1)&&e!==(e=u[0].data.title)&&(document.title=e);let _=t;t=g(u),t===_?d[t].p(u,m):(Z(),$(d[_],1,1,()=>{d[_]=null}),ee(),s=d[t],s?s.p(u,m):(s=d[t]=h[t](u),s.c()),p(s,1),s.m(l.parentNode,l));const w={};m&128&&(w.$$scope={dirty:m,ctx:u}),n.$set(w)},i(u){c||(p(s),p(n.$$.fragment,u),p(o.$$.fragment,u),c=!0)},o(u){$(s),$(n.$$.fragment,u),$(o.$$.fragment,u),c=!1},d(u){u&&(f(r),f(l),f(a)),d[t].d(u),x(n,u),x(o,u)}}}function Es(i,e,r){let t,s;fe(i,He,E=>r(0,t=E)),fe(i,$e,E=>r(1,s=E));let{$$slots:l={},$$scope:n}=e,{data:a}=e;vt(async()=>{s.bearer_token!==""&&await d(s)});const o=()=>{const E=t.data.features.security?"?access_token="+s.bearer_token:"";ce.init(`ws://${window.location.host}/ws/events${E}`,t.data.features.event_use_json),c()};Ut(()=>{h()});const c=()=>{ce.on("open",g),ce.on("close",u),ce.on("error",m),ce.on("rssi",v),ce.on("notification",_),t.data.features.analytics&&ce.on("analytics",w),t.data.features.battery&&ce.on("battery",S),t.data.features.download_firmware&&ce.on("otastatus",U)},h=()=>{ce.off("analytics",w),ce.off("open",g),ce.off("close",u),ce.off("rssi",v),ce.off("notification",_),ce.off("battery",S),ce.off("otastatus",U)};async function d(E){try{(await fetch("/rest/verifyAuthorization",{method:"GET",headers:{Authorization:"Bearer "+E.bearer_token,"Content-Type":"application/json"}})).status!==200&&$e.invalidate()}catch(V){console.error("Error:",V)}}const g=()=>{_e.success("Connection to device established",5e3)},u=()=>{_e.error("Connection to device lost",5e3),Ae.setRSSI({rssi:0,ssid:""})},m=E=>console.error(E),_=E=>{switch(E.type){case"info":_e.info(E.message,5e3);break;case"warning":_e.warning(E.message,5e3);break;case"error":_e.error(E.message,5e3);break;case"success":_e.success(E.message,5e3);break}},w=E=>Jt.addData(E),v=E=>Ae.setRSSI(E),S=E=>{Ae.setBattery(E),pr.addData(E)},U=E=>Ae.setDownloadOTA(E);let X=!1;function le(){X=this.checked,r(2,X)}const z=()=>{r(2,X=!1)};return i.$$set=E=>{"data"in E&&r(3,a=E.data),"$$scope"in E&&r(7,n=E.$$scope)},i.$$.update=()=>{i.$$.dirty&3&&(t.data.features.security&&s.bearer_token===""||o())},[t,s,X,a,l,le,z,n]}class Xs extends W{constructor(e){super(),J(this,e,Es,Bs,F,{data:3})}}export{Xs as component,Js as universal};
