import{n as C,i as It,s as F,c as Le,u as Te,g as Ne,a as Ue,b as fe,d as De,e as B,f as At,h as V,j as St,r as Dt}from"../chunks/utils.js";import{s as U,c as H,i as S,d as f,e as oe,p as ge,q as re,H as ne,r as se,g as y,u as ae,v as T,b as M,f as I,h as k,k as pe,l as we,w as b,m as be,x as We,y as ve,z as jt,A as je,B as Vt,o as vt,n as Lt,C as Ie,D as Qe,E as Tt,F as Nt,G as Ut}from"../chunks/scheduler.js";import{n as Ht,l as Ot,f as Pt,h as Rt,S as W,i as J,a as p,g as Z,t as $,c as ee,b as O,d as G,m as P,e as R,j as pt,k as wt,o as xt,p as Ye}from"../chunks/index.js";import{u as $e}from"../chunks/user.js";import{C as qt,B as zt,c as Gt,a as Ft,G as Wt,t as Ae}from"../chunks/compareVersions.js";import{R as Jt,a as Xt}from"../chunks/report-analytics.js";import{w as Qt}from"../chunks/singletons.js";import{s as ce}from"../chunks/socket.js";import{p as He}from"../chunks/stores.js";import{h as Ke,u as Yt}from"../chunks/await_block.js";import{e as ye,u as Je,o as bt,f as Kt}from"../chunks/each.js";import{g as Q,a as Ve,c as Zt,f as ze,b as Ge}from"../chunks/index2.js";import{m as er,t as Re,e as xe,o as Fe,X as kt,c as tr,C as $t,a as yt}from"../chunks/ConfirmDialog.js";import{n as _e}from"../chunks/notifications.js";import{A as rr}from"../chunks/alert-triangle.js";import{U as nr}from"../chunks/users.js";import{S as sr}from"../chunks/stethoscope.js";import{W as ar,R as lr,a as ir}from"../chunks/RSSIIndicator.js";import{A as or}from"../chunks/access-point.js";import{T as cr}from"../chunks/topology-star-3.js";import{C as ur}from"../chunks/clock-check.js";import{I as fr}from"../chunks/InputPassword.js";function hr(i,e,r,t){if(!e)return C;const s=i.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return C;const{delay:l=0,duration:n=300,easing:a=It,start:o=Ht()+l,end:c=o+n,tick:h=C,css:d}=r(i,{from:e,to:s},t);let g=!0,u=!1,m;function _(){d&&(m=Pt(i,0,1,n,l,a,d)),l||(u=!0)}function w(){d&&Rt(i,m),g=!1}return Ot(v=>{if(!u&&v>=o&&(u=!0),u&&v>=c&&(h(1,0),w()),!g)return!1;if(u){const A=v-o,N=0+1*a(A/n);h(N,1-N)}return!0}),_(),h(0,1),w}function dr(i){const e=getComputedStyle(i);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:r,height:t}=e,s=i.getBoundingClientRect();i.style.position="absolute",i.style.width=r,i.style.height=t,Bt(i,s)}}function Bt(i,e){const r=i.getBoundingClientRect();if(e.left!==r.left||e.top!==r.top){const t=getComputedStyle(i),s=t.transform==="none"?"":t.transform;i.style.transform=`${s} translate(${e.left-r.left}px, ${e.top-r.top}px)`}}const mr=!1,gr=!1,_r=async({fetch:i})=>({features:await(await i("/rest/features")).json(),title:"UIH Control Panel",github:"Aeriosolutions/USB-Insight-HUB-Software",copyright:"2025 Aerio Solutions",appName:"USB Insight Hub"}),Rs=Object.freeze(Object.defineProperty({__proto__:null,load:_r,prerender:mr,ssr:gr},Symbol.toStringTag,{value:"Module"}));let vr={soc:[],charging:[],timestamp:[]};const qe=3600;function pr(){const{subscribe:i,update:e}=Qt(vr);return{subscribe:i,addData:r=>{e(t=>({...t,soc:[...t.soc,r.soc].slice(-qe),charging:[...t.charging,r.charging?1:0].slice(-qe),timestamp:[...t.timestamp,Date.now()].slice(-qe)}))}}}const wr=pr();function Ze(i,e,r){const t=i.slice();return t[9]=e[r],t[11]=r,t}const br=i=>({}),et=i=>({}),kr=i=>({}),tt=i=>({});function rt(i){let e;const r=i[4].backdrop,t=Le(r,i,i[3],tt);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,l){t&&t.m(s,l),e=!0},p(s,l){t&&t.p&&(!e||l&8)&&Te(t,r,s,s[3],e?Ue(r,s[3],l,kr):Ne(s[3]),tt)},i(s){e||(p(t,s),e=!0)},o(s){$(t,s),e=!1},d(s){t&&t.d(s)}}}function $r(i){let e,r,t;const s=[{isOpen:i[11]===i[0].length-1&&!i[1]},i[9].props];var l=i[9].component;function n(a,o){let c={};for(let h=0;h<s.length;h+=1)c=B(c,s[h]);return o!==void 0&&o&3&&(c=B(c,Q(s,[{isOpen:a[11]===a[0].length-1&&!a[1]},o&1&&Ve(a[9].props)]))),{props:c}}return l&&(e=ge(l,n(i)),e.$on("introstart",i[7]),e.$on("outroend",i[8])),{c(){e&&O(e.$$.fragment),r=oe()},l(a){e&&G(e.$$.fragment,a),r=oe()},m(a,o){e&&P(e,a,o),S(a,r,o),t=!0},p(a,o){if(o&1&&l!==(l=a[9].component)){if(e){Z();const c=e;$(c.$$.fragment,1,0,()=>{R(c,1)}),ee()}l?(e=ge(l,n(a,o)),e.$on("introstart",a[7]),e.$on("outroend",a[8]),O(e.$$.fragment),p(e.$$.fragment,1),P(e,r.parentNode,r)):e=null}else if(l){const c=o&3?Q(s,[{isOpen:a[11]===a[0].length-1&&!a[1]},o&1&&Ve(a[9].props)]):{};e.$set(c)}},i(a){t||(e&&p(e.$$.fragment,a),t=!0)},o(a){e&&$(e.$$.fragment,a),t=!1},d(a){a&&f(r),e&&R(e,a)}}}function yr(i){let e,r,t,s={ctx:i,current:null,token:null,hasCatch:!1,pending:Cr,then:Er,catch:Br,value:12,blocks:[,,,]};return Ke(r=st(i[9].component),s),{c(){e=oe(),s.block.c()},l(l){e=oe(),s.block.l(l)},m(l,n){S(l,e,n),s.block.m(l,s.anchor=n),s.mount=()=>e.parentNode,s.anchor=e,t=!0},p(l,n){i=l,s.ctx=i,n&1&&r!==(r=st(i[9].component))&&Ke(r,s)||Yt(s,i,n)},i(l){t||(p(s.block),t=!0)},o(l){for(let n=0;n<3;n+=1){const a=s.blocks[n];$(a)}t=!1},d(l){l&&f(e),s.block.d(l),s.token=null,s=null}}}function Br(i){return{c:C,l:C,m:C,p:C,i:C,o:C,d:C}}function Er(i){let e,r,t;const s=[{isOpen:i[11]===i[0].length-1&&!i[1]},i[9].props];var l=i[12];function n(a,o){let c={};for(let h=0;h<s.length;h+=1)c=B(c,s[h]);return o!==void 0&&o&3&&(c=B(c,Q(s,[{isOpen:a[11]===a[0].length-1&&!a[1]},o&1&&Ve(a[9].props)]))),{props:c}}return l&&(e=ge(l,n(i)),e.$on("introstart",i[5]),e.$on("outroend",i[6])),{c(){e&&O(e.$$.fragment),r=U()},l(a){e&&G(e.$$.fragment,a),r=H(a)},m(a,o){e&&P(e,a,o),S(a,r,o),t=!0},p(a,o){if(o&1&&l!==(l=a[12])){if(e){Z();const c=e;$(c.$$.fragment,1,0,()=>{R(c,1)}),ee()}l?(e=ge(l,n(a,o)),e.$on("introstart",a[5]),e.$on("outroend",a[6]),O(e.$$.fragment),p(e.$$.fragment,1),P(e,r.parentNode,r)):e=null}else if(l){const c=o&3?Q(s,[{isOpen:a[11]===a[0].length-1&&!a[1]},o&1&&Ve(a[9].props)]):{};e.$set(c)}},i(a){t||(e&&p(e.$$.fragment,a),t=!0)},o(a){e&&$(e.$$.fragment,a),t=!1},d(a){a&&f(r),e&&R(e,a)}}}function Cr(i){let e,r;const t=i[4].loading,s=Le(t,i,i[3],et);return{c(){s&&s.c(),e=U()},l(l){s&&s.l(l),e=H(l)},m(l,n){s&&s.m(l,n),S(l,e,n),r=!0},p(l,n){s&&s.p&&(!r||n&8)&&Te(s,t,l,l[3],r?Ue(t,l[3],n,br):Ne(l[3]),et)},i(l){r||(p(s,l),r=!0)},o(l){$(s,l),r=!1},d(l){l&&f(e),s&&s.d(l)}}}function nt(i,e){let r,t,s,l,n,a;const o=[yr,$r],c=[];function h(d,g){return g&1&&(t=null),t==null&&(t=!!Ar(d[9].component)),t?0:1}return s=h(e,-1),l=c[s]=o[s](e),{key:i,first:null,c(){r=oe(),l.c(),n=oe(),this.h()},l(d){r=oe(),l.l(d),n=oe(),this.h()},h(){this.first=r},m(d,g){S(d,r,g),c[s].m(d,g),S(d,n,g),a=!0},p(d,g){e=d;let u=s;s=h(e,g),s===u?c[s].p(e,g):(Z(),$(c[u],1,1,()=>{c[u]=null}),ee(),l=c[s],l?l.p(e,g):(l=c[s]=o[s](e),l.c()),p(l,1),l.m(n.parentNode,n))},i(d){a||(p(l),a=!0)},o(d){$(l),a=!1},d(d){d&&(f(r),f(n)),c[s].d(d)}}}function Mr(i){let e=[],r=new Map,t,s,l=ye(i[0]);const n=a=>a[11];for(let a=0;a<l.length;a+=1){let o=Ze(i,l,a),c=n(o);r.set(c,e[a]=nt(c,o))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=oe()},l(a){for(let o=0;o<e.length;o+=1)e[o].l(a);t=oe()},m(a,o){for(let c=0;c<e.length;c+=1)e[c]&&e[c].m(a,o);S(a,t,o),s=!0},p(a,o){o&15&&(l=ye(a[0]),Z(),e=Je(e,o,n,1,a,l,r,t.parentNode,bt,nt,t,Ze),ee())},i(a){if(!s){for(let o=0;o<l.length;o+=1)p(e[o]);s=!0}},o(a){for(let o=0;o<e.length;o+=1)$(e[o]);s=!1},d(a){a&&f(t);for(let o=0;o<e.length;o+=1)e[o].d(a)}}}function Ir(i){let e,r,t=i[0].length>0&&rt(i);const s=i[4].default,l=Le(s,i,i[3],null),n=l||Mr(i);return{c(){t&&t.c(),e=U(),n&&n.c()},l(a){t&&t.l(a),e=H(a),n&&n.l(a)},m(a,o){t&&t.m(a,o),S(a,e,o),n&&n.m(a,o),r=!0},p(a,[o]){a[0].length>0?t?(t.p(a,o),o&1&&p(t,1)):(t=rt(a),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Z(),$(t,1,1,()=>{t=null}),ee()),l?l.p&&(!r||o&8)&&Te(l,s,a,a[3],r?Ue(s,a[3],o,null):Ne(a[3]),null):n&&n.p&&(!r||o&15)&&n.p(a,r?o:-1)},i(a){r||(p(t),p(n,a),r=!0)},o(a){$(t),$(n,a),r=!1},d(a){a&&f(e),t&&t.d(a),n&&n.d(a)}}}function Ar(i){return typeof i.prototype>"u"}async function st(i){return i().then(e=>e.default)}function Sr(i,e,r){let t,s,l;fe(i,er,g=>r(0,t=g)),fe(i,Re,g=>r(1,s=g)),fe(i,xe,g=>r(2,l=g));let{$$slots:n={},$$scope:a}=e;const o=()=>{De(xe,l=!0,l)},c=()=>{De(Re,s=!1,s)},h=()=>{De(xe,l=!0,l)},d=()=>{De(Re,s=!1,s)};return i.$$set=g=>{"$$scope"in g&&r(3,a=g.$$scope)},[t,s,l,a,n,o,c,h,d]}class Dr extends W{constructor(e){super(),J(this,e,Sr,Ir,F,{})}}function jr(i,{from:e,to:r},t={}){const s=getComputedStyle(i),l=s.transform==="none"?"":s.transform,[n,a]=s.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*n/r.width-(r.left+n),c=e.top+e.height*a/r.height-(r.top+a),{delay:h=0,duration:d=u=>Math.sqrt(u)*120,easing:g=Zt}=t;return{delay:h,duration:At(d)?d(Math.sqrt(o*o+c*c)):d,easing:g,css:(u,m)=>{const _=m*o,w=m*c,v=u+m*e.width/r.width,A=u+m*e.height/r.height;return`transform: ${l} translate(${_}px, ${w}px) scale(${v}, ${A});`}}}function Vr(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 1 0 18 0a9 9 0 1 0-18 0"/><path d="m9 12l2 2l4-4"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function Lr(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class Tr extends W{constructor(e){super(),J(this,e,Lr,Vr,F,{})}}function Nr(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0-18 0m9-3h.01"/><path d="M11 12h1v4h1"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function Ur(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class Hr extends W{constructor(e){super(),J(this,e,Ur,Nr,F,{})}}function at(i,e,r){const t=i.slice();return t[3]=e[r],t}function lt(i,e){let r,t,s,l,n=e[3].message+"",a,o,c,h,d,g,u=C,m;var _=e[1][e[3].type];function w(v,A){return{props:{class:"h-6 w-6 flex-shrink-0"}}}return _&&(t=ge(_,w())),{key:i,first:null,c(){r=M("div"),t&&O(t.$$.fragment),s=U(),l=M("span"),a=pe(n),o=U(),this.h()},l(v){r=I(v,"DIV",{class:!0});var A=y(r);t&&G(t.$$.fragment,A),s=H(A),l=I(A,"SPAN",{});var N=y(l);a=we(N,n),N.forEach(f),o=H(A),A.forEach(f),this.h()},h(){k(r,"class",c="alert animate-none "+e[0][e[3].type]),this.first=r},m(v,A){S(v,r,A),t&&P(t,r,null),b(r,s),b(r,l),b(l,a),b(r,o),m=!0},p(v,A){if(e=v,A&6&&_!==(_=e[1][e[3].type])){if(t){Z();const N=t;$(N.$$.fragment,1,0,()=>{R(N,1)}),ee()}_?(t=ge(_,w()),O(t.$$.fragment),p(t.$$.fragment,1),P(t,r,s)):t=null}(!m||A&4)&&n!==(n=e[3].message+"")&&be(a,n),(!m||A&5&&c!==(c="alert animate-none "+e[0][e[3].type]))&&k(r,"class",c)},r(){g=r.getBoundingClientRect()},f(){dr(r),u(),Bt(r,g)},a(){u(),u=hr(r,g,jr,{duration:400})},i(v){m||(t&&p(t.$$.fragment,v),v&&We(()=>{m&&(d&&d.end(1),h=pt(r,ze,{y:100,duration:400}),h.start())}),m=!0)},o(v){t&&$(t.$$.fragment,v),h&&h.invalidate(),v&&(d=wt(r,ze,{x:100,duration:400})),m=!1},d(v){v&&f(r),t&&R(t),v&&d&&d.end()}}}function Or(i){let e,r=[],t=new Map,s,l=ye(i[2]);const n=a=>a[3].id;for(let a=0;a<l.length;a+=1){let o=at(i,l,a),c=n(o);t.set(c,r[a]=lt(c,o))}return{c(){e=M("div");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=I(a,"DIV",{class:!0});var o=y(e);for(let c=0;c<r.length;c+=1)r[c].l(o);o.forEach(f),this.h()},h(){k(e,"class","toast toast-end mr-4")},m(a,o){S(a,e,o);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);s=!0},p(a,[o]){if(o&7){l=ye(a[2]),Z();for(let c=0;c<r.length;c+=1)r[c].r();r=Je(r,o,n,1,a,l,t,e,Kt,lt,null,at);for(let c=0;c<r.length;c+=1)r[c].a();ee()}},i(a){if(!s){for(let o=0;o<l.length;o+=1)p(r[o]);s=!0}},o(a){for(let o=0;o<r.length;o+=1)$(r[o]);s=!1},d(a){a&&f(e);for(let o=0;o<r.length;o+=1)r[o].d()}}}function Pr(i,e,r){let t;fe(i,_e,n=>r(2,t=n));let{theme:s={error:"alert-error",success:"alert-success",warning:"alert-warning",info:"alert-info"}}=e,{icon:l={error:qt,success:Tr,warning:rr,info:Hr}}=e;return i.$$set=n=>{"theme"in n&&r(0,s=n.theme),"icon"in n&&r(1,l=n.icon)},[s,l,t]}class Rr extends W{constructor(e){super(),J(this,e,Pr,Or,F,{theme:0,icon:1})}}const Et=""+new URL("../assets/logo.png",import.meta.url).href;function xr(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M8 12a1 1 0 1 0 2 0a1 1 0 0 0-2 0m6 0a1 1 0 1 0 2 0a1 1 0 0 0-2 0"/><path d="M15.5 17c0 1 1.5 3 2 3c1.5 0 2.833-1.667 3.5-3c.667-1.667.5-5.833-1.5-11.5c-1.457-1.015-3-1.34-4.5-1.5l-.972 1.923a11.913 11.913 0 0 0-4.053 0L9 4c-1.5.16-3.043.485-4.5 1.5c-2 5.667-2.167 9.833-1.5 11.5c.667 1.333 2 3 3.5 3c.5 0 2-2 2-3"/><path d="M7 16.5c3.5 1 6.5 1 10 0"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function qr(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class zr extends W{constructor(e){super(),J(this,e,qr,xr,F,{})}}function Gr(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37c1 .608 2.296.07 2.572-1.065z"/><path d="M9 12a3 3 0 1 0 6 0a3 3 0 0 0-6 0"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function Fr(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class Wr extends W{constructor(e){super(),J(this,e,Fr,Gr,F,{})}}function Jr(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4m-4 4a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4m-4-6v3m0 3h.01"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function Xr(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class Ct extends W{constructor(e){super(),J(this,e,Xr,Jr,F,{})}}function Qr(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M6 9a6 6 0 1 0 12 0A6 6 0 0 0 6 9"/><path d="M12 3c1.333.333 2 2.333 2 6s-.667 5.667-2 6m0-12c-1.333.333-2 2.333-2 6s.667 5.667 2 6M6 9h12M3 20h7m4 0h7m-11 0a2 2 0 1 0 4 0a2 2 0 0 0-4 0m2-5v3"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function Yr(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class Kr extends W{constructor(e){super(),J(this,e,Yr,Qr,F,{})}}function Zr(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 10a2 2 0 1 0 4 0a2 2 0 0 0-4 0m2-6v4m0 4v8m4-4a2 2 0 1 0 4 0a2 2 0 0 0-4 0m2-12v10m0 4v2m4-13a2 2 0 1 0 4 0a2 2 0 0 0-4 0m2-3v1m0 4v11"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function en(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class tn extends W{constructor(e){super(),J(this,e,en,Zr,F,{})}}function rn(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 1 0 18 0a9 9 0 1 0-18 0"/><path d="M9 10a3 3 0 1 0 6 0a3 3 0 1 0-6 0m-2.832 8.849A4 4 0 0 1 10 16h4a4 4 0 0 1 3.834 2.855"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function nn(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class sn extends W{constructor(e){super(),J(this,e,nn,rn,F,{})}}function an(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M14 8V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2v-2"/><path d="M9 12h12l-3-3m0 6l3-3"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function ln(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class on extends W{constructor(e){super(),J(this,e,ln,an,F,{})}}function cn(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 1 0 18 0a9 9 0 1 0-18 0"/><path d="M14 9.75a3.016 3.016 0 0 0-4.163.173a2.993 2.993 0 0 0 0 4.154A3.016 3.016 0 0 0 14 14.25"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function un(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class fn extends W{constructor(e){super(),J(this,e,un,cn,F,{})}}function it(i,e,r){const t=i.slice();return t[11]=e[r],t[13]=r,t}function ot(i,e,r){const t=i.slice();return t[14]=e[r],t}function ct(i){let e,r,t,s,l;const n=[dn,hn],a=[];function o(c,h){return c[11].submenu?0:1}return r=o(i),t=a[r]=n[r](i),{c(){e=M("li"),t.c(),s=U()},l(c){e=I(c,"LI",{});var h=y(e);t.l(h),s=H(h),h.forEach(f)},m(c,h){S(c,e,h),a[r].m(e,null),b(e,s),l=!0},p(c,h){let d=r;r=o(c),r===d?a[r].p(c,h):(Z(),$(a[d],1,1,()=>{a[d]=null}),ee(),t=a[r],t?t.p(c,h):(t=a[r]=n[r](c),t.c()),p(t,1),t.m(e,s))},i(c){l||(p(t),l=!0)},o(c){$(t),l=!1},d(c){c&&f(e),a[r].d()}}}function hn(i){let e,r,t=i[11].title+"",s,l,n,a,o;var c=i[11].icon;function h(g,u){return{props:{class:"h-6 w-6"}}}c&&(r=ge(c,h()));function d(){return i[8](i[11])}return{c(){e=M("a"),r&&O(r.$$.fragment),s=pe(t),this.h()},l(g){e=I(g,"A",{href:!0,class:!0});var u=y(e);r&&G(r.$$.fragment,u),s=we(u,t),u.forEach(f),this.h()},h(){k(e,"href",l=i[11].href),k(e,"class","text-lg font-bold"),je(e,"bg-base-100",i[11].active)},m(g,u){S(g,e,u),r&&P(r,e,null),b(e,s),n=!0,a||(o=ve(e,"click",d),a=!0)},p(g,u){if(i=g,u&2&&c!==(c=i[11].icon)){if(r){Z();const m=r;$(m.$$.fragment,1,0,()=>{R(m,1)}),ee()}c?(r=ge(c,h()),O(r.$$.fragment),p(r.$$.fragment,1),P(r,e,s)):r=null}(!n||u&2)&&t!==(t=i[11].title+"")&&be(s,t),(!n||u&2&&l!==(l=i[11].href))&&k(e,"href",l),(!n||u&2)&&je(e,"bg-base-100",i[11].active)},i(g){n||(r&&p(r.$$.fragment,g),n=!0)},o(g){r&&$(r.$$.fragment,g),n=!1},d(g){g&&f(e),r&&R(r),a=!1,o()}}}function dn(i){let e,r,t,s,l=i[11].title+"",n,a,o,c;var h=i[11].icon;function d(_,w){return{props:{class:"h-6 w-6"}}}h&&(t=ge(h,d()));let g=ye(i[11].submenu),u=[];for(let _=0;_<g.length;_+=1)u[_]=ft(ot(i,g,_));const m=_=>$(u[_],1,1,()=>{u[_]=null});return{c(){e=M("details"),r=M("summary"),t&&O(t.$$.fragment),s=U(),n=pe(l),a=U(),o=M("ul");for(let _=0;_<u.length;_+=1)u[_].c();this.h()},l(_){e=I(_,"DETAILS",{});var w=y(e);r=I(w,"SUMMARY",{class:!0});var v=y(r);t&&G(t.$$.fragment,v),s=H(v),n=we(v,l),v.forEach(f),a=H(w),o=I(w,"UL",{});var A=y(o);for(let N=0;N<u.length;N+=1)u[N].l(A);A.forEach(f),w.forEach(f),this.h()},h(){k(r,"class","text-lg font-bold")},m(_,w){S(_,e,w),b(e,r),t&&P(t,r,null),b(r,s),b(r,n),b(e,a),b(e,o);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(o,null);c=!0},p(_,w){if(w&2&&h!==(h=_[11].icon)){if(t){Z();const v=t;$(v.$$.fragment,1,0,()=>{R(v,1)}),ee()}h?(t=ge(h,d()),O(t.$$.fragment),p(t.$$.fragment,1),P(t,r,s)):t=null}if((!c||w&2)&&l!==(l=_[11].title+"")&&be(n,l),w&34){g=ye(_[11].submenu);let v;for(v=0;v<g.length;v+=1){const A=ot(_,g,v);u[v]?(u[v].p(A,w),p(u[v],1)):(u[v]=ft(A),u[v].c(),p(u[v],1),u[v].m(o,null))}for(Z(),v=g.length;v<u.length;v+=1)m(v);ee()}},i(_){if(!c){t&&p(t.$$.fragment,_);for(let w=0;w<g.length;w+=1)p(u[w]);c=!0}},o(_){t&&$(t.$$.fragment,_),u=u.filter(Boolean);for(let w=0;w<u.length;w+=1)$(u[w]);c=!1},d(_){_&&f(e),t&&R(t),Vt(u,_)}}}function ut(i){let e,r,t,s=i[14].title+"",l,n,a,o,c,h;var d=i[14].icon;function g(m,_){return{props:{class:"h-5 w-5"}}}d&&(t=ge(d,g()));function u(){return i[7](i[14])}return{c(){e=M("li"),r=M("a"),t&&O(t.$$.fragment),l=pe(s),a=U(),this.h()},l(m){e=I(m,"LI",{class:!0});var _=y(e);r=I(_,"A",{href:!0,class:!0});var w=y(r);t&&G(t.$$.fragment,w),l=we(w,s),w.forEach(f),a=H(_),_.forEach(f),this.h()},h(){k(r,"href",n=i[14].href),k(r,"class","text-ml font-bold"),je(r,"bg-base-100",i[14].active),k(e,"class","hover-bordered")},m(m,_){S(m,e,_),b(e,r),t&&P(t,r,null),b(r,l),b(e,a),o=!0,c||(h=ve(r,"click",u),c=!0)},p(m,_){if(i=m,_&2&&d!==(d=i[14].icon)){if(t){Z();const w=t;$(w.$$.fragment,1,0,()=>{R(w,1)}),ee()}d?(t=ge(d,g()),O(t.$$.fragment),p(t.$$.fragment,1),P(t,r,l)):t=null}(!o||_&2)&&s!==(s=i[14].title+"")&&be(l,s),(!o||_&2&&n!==(n=i[14].href))&&k(r,"href",n),(!o||_&2)&&je(r,"bg-base-100",i[14].active)},i(m){o||(t&&p(t.$$.fragment,m),o=!0)},o(m){t&&$(t.$$.fragment,m),o=!1},d(m){m&&f(e),t&&R(t),c=!1,h()}}}function ft(i){let e,r,t=i[14].feature&&ut(i);return{c(){t&&t.c(),e=oe()},l(s){t&&t.l(s),e=oe()},m(s,l){t&&t.m(s,l),S(s,e,l),r=!0},p(s,l){s[14].feature?t?(t.p(s,l),l&2&&p(t,1)):(t=ut(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Z(),$(t,1,1,()=>{t=null}),ee())},i(s){r||(p(t),r=!0)},o(s){$(t),r=!1},d(s){s&&f(e),t&&t.d(s)}}}function ht(i,e){let r,t,s,l=e[11].feature&&ct(e);return{key:i,first:null,c(){r=oe(),l&&l.c(),t=oe(),this.h()},l(n){r=oe(),l&&l.l(n),t=oe(),this.h()},h(){this.first=r},m(n,a){S(n,r,a),l&&l.m(n,a),S(n,t,a),s=!0},p(n,a){e=n,e[11].feature?l?(l.p(e,a),a&2&&p(l,1)):(l=ct(e),l.c(),p(l,1),l.m(t.parentNode,t)):l&&(Z(),$(l,1,1,()=>{l=null}),ee())},i(n){s||(p(l),s=!0)},o(n){$(l),s=!1},d(n){n&&(f(r),f(t)),l&&l.d(n)}}}function dt(i){let e,r,t,s,l=i[2].username+"",n,a,o,c,h,d,g;return r=new sn({props:{class:"h-8 w-8"}}),c=new on({props:{class:"h-8 w-8 rotate-180"}}),{c(){e=M("div"),O(r.$$.fragment),t=U(),s=M("span"),n=pe(l),a=U(),o=M("div"),O(c.$$.fragment),this.h()},l(u){e=I(u,"DIV",{class:!0});var m=y(e);G(r.$$.fragment,m),t=H(m),s=I(m,"SPAN",{class:!0});var _=y(s);n=we(_,l),_.forEach(f),a=H(m),o=I(m,"DIV",{class:!0});var w=y(o);G(c.$$.fragment,w),w.forEach(f),m.forEach(f),this.h()},h(){k(s,"class","flex-grow px-4 text-xl font-bold"),k(o,"class","btn btn-ghost"),k(e,"class","flex items-center")},m(u,m){S(u,e,m),P(r,e,null),b(e,t),b(e,s),b(s,n),b(e,a),b(e,o),P(c,o,null),h=!0,d||(g=ve(o,"click",i[9]),d=!0)},p(u,m){(!h||m&4)&&l!==(l=u[2].username+"")&&be(n,l)},i(u){h||(p(r.$$.fragment,u),p(c.$$.fragment,u),h=!0)},o(u){$(r.$$.fragment,u),$(c.$$.fragment,u),h=!1},d(u){u&&f(e),R(r),R(c),d=!1,g()}}}function mn(i){let e,r,t;return r=new zt({props:{class:"h-5 w-5"}}),{c(){e=M("a"),O(r.$$.fragment),this.h()},l(s){e=I(s,"A",{href:!0,class:!0,target:!0,rel:!0});var l=y(e);G(r.$$.fragment,l),l.forEach(f),this.h()},h(){k(e,"href",i[3].href),k(e,"class","btn btn-ghost"),k(e,"target","_blank"),k(e,"rel","noopener noreferrer")},m(s,l){S(s,e,l),P(r,e,null),t=!0},p:C,i(s){t||(p(r.$$.fragment,s),t=!0)},o(s){$(r.$$.fragment,s),t=!1},d(s){s&&f(e),R(r)}}}function gn(i){let e,r,t;return r=new zr({props:{class:"h-5 w-5"}}),{c(){e=M("a"),O(r.$$.fragment),this.h()},l(s){e=I(s,"A",{href:!0,class:!0,target:!0,rel:!0});var l=y(e);G(r.$$.fragment,l),l.forEach(f),this.h()},h(){k(e,"href",i[4].href),k(e,"class","btn btn-ghost"),k(e,"target","_blank"),k(e,"rel","noopener noreferrer")},m(s,l){S(s,e,l),P(r,e,null),t=!0},p:C,i(s){t||(p(r.$$.fragment,s),t=!0)},o(s){$(r.$$.fragment,s),t=!1},d(s){s&&f(e),R(r)}}}function _n(i){let e,r,t,s,l,n,a=i[0].data.appName+"",o,c,h,d=[],g=new Map,u,m,_,w,v,A,N,X,le,q,E,j,x,ie,he=i[0].data.copyright+"",me,ue,de,Be,ke=ye(i[1]);const Se=L=>L[11].title;for(let L=0;L<ke.length;L+=1){let D=it(i,ke,L),K=Se(D);g.set(K,d[L]=ht(K,D))}let Y=i[0].data.features.security&&dt(i),z=i[3].active&&mn(i),te=i[4].active&&gn(i);return x=new fn({props:{class:"h-4 w-4"}}),{c(){e=M("div"),r=M("a"),t=M("img"),l=U(),n=M("h1"),o=pe(a),c=U(),h=M("ul");for(let L=0;L<d.length;L+=1)d[L].c();u=U(),m=M("div"),_=U(),w=M("div"),v=U(),Y&&Y.c(),A=U(),N=M("div"),X=U(),le=M("div"),z&&z.c(),q=U(),te&&te.c(),E=U(),j=M("div"),O(x.$$.fragment),ie=M("span"),me=pe(he),this.h()},l(L){e=I(L,"DIV",{class:!0});var D=y(e);r=I(D,"A",{href:!0,class:!0});var K=y(r);t=I(K,"IMG",{src:!0,alt:!0,class:!0}),l=H(K),n=I(K,"H1",{class:!0});var Me=y(n);o=we(Me,a),Me.forEach(f),K.forEach(f),c=H(D),h=I(D,"UL",{class:!0});var Ee=y(h);for(let Pe=0;Pe<d.length;Pe+=1)d[Pe].l(Ee);Ee.forEach(f),u=H(D),m=I(D,"DIV",{class:!0}),y(m).forEach(f),_=H(D),w=I(D,"DIV",{class:!0}),y(w).forEach(f),v=H(D),Y&&Y.l(D),A=H(D),N=I(D,"DIV",{class:!0}),y(N).forEach(f),X=H(D),le=I(D,"DIV",{class:!0});var Ce=y(le);z&&z.l(Ce),q=H(Ce),te&&te.l(Ce),E=H(Ce),j=I(Ce,"DIV",{class:!0});var Oe=y(j);G(x.$$.fragment,Oe),ie=I(Oe,"SPAN",{class:!0});var Xe=y(ie);me=we(Xe,he),Xe.forEach(f),Oe.forEach(f),Ce.forEach(f),D.forEach(f),this.h()},h(){St(t.src,s=Et)||k(t,"src",s),k(t,"alt","Logo"),k(t,"class","h-12 w-12"),k(n,"class","px-4 text-2xl font-bold"),k(r,"href","/"),k(r,"class","rounded-box mb-4 flex items-center hover:scale-[1.02] active:scale-[0.98]"),k(h,"class","menu rounded-box menu-vertical flex-nowrap overflow-y-auto"),k(m,"class","flex-col"),k(w,"class","flex-grow"),k(N,"class","divider my-0"),k(ie,"class","px-2"),k(j,"class","inline-flex flex-grow items-center justify-end text-sm"),k(le,"class","flex items-center"),k(e,"class","bg-base-200 text-base-content flex h-full w-80 flex-col p-4")},m(L,D){S(L,e,D),b(e,r),b(r,t),b(r,l),b(r,n),b(n,o),b(e,c),b(e,h);for(let K=0;K<d.length;K+=1)d[K]&&d[K].m(h,null);b(e,u),b(e,m),b(e,_),b(e,w),b(e,v),Y&&Y.m(e,null),b(e,A),b(e,N),b(e,X),b(e,le),z&&z.m(le,null),b(le,q),te&&te.m(le,null),b(le,E),b(le,j),P(x,j,null),b(j,ie),b(ie,me),ue=!0,de||(Be=ve(r,"click",i[6]),de=!0)},p(L,[D]){(!ue||D&1)&&a!==(a=L[0].data.appName+"")&&be(o,a),D&34&&(ke=ye(L[1]),Z(),d=Je(d,D,Se,1,L,ke,g,h,bt,ht,null,it),ee()),L[0].data.features.security?Y?(Y.p(L,D),D&1&&p(Y,1)):(Y=dt(L),Y.c(),p(Y,1),Y.m(e,A)):Y&&(Z(),$(Y,1,1,()=>{Y=null}),ee()),L[3].active&&z.p(L,D),L[4].active&&te.p(L,D),(!ue||D&1)&&he!==(he=L[0].data.copyright+"")&&be(me,he)},i(L){if(!ue){for(let D=0;D<ke.length;D+=1)p(d[D]);p(Y),p(z),p(te),p(x.$$.fragment,L),ue=!0}},o(L){for(let D=0;D<d.length;D+=1)$(d[D]);$(Y),$(z),$(te),$(x.$$.fragment,L),ue=!1},d(L){L&&f(e);for(let D=0;D<d.length;D+=1)d[D].d();Y&&Y.d(),z&&z.d(),te&&te.d(),R(x),de=!1,Be()}}}function vn(i,e,r){let t,s;fe(i,He,m=>r(0,t=m)),fe(i,$e,m=>r(2,s=m));const l={href:"https://github.com/"+t.data.github,active:!1},n={href:".",active:!1};let a=[{title:"Settings",icon:tn,href:"/settings",feature:!0},{title:"Connections",icon:Kr,feature:t.data.features.mqtt||t.data.features.ntp,submenu:[{title:"MQTT",icon:cr,href:"/connections/mqtt",feature:t.data.features.mqtt},{title:"NTP",icon:ur,href:"/connections/ntp",feature:t.data.features.ntp}]},{title:"WiFi",icon:ar,feature:!0,submenu:[{title:"WiFi Station",icon:lr,href:"/wifi/sta",feature:!0},{title:"Access Point",icon:or,href:"/wifi/ap",feature:!0}]},{title:"Users",icon:nr,href:"/user",feature:t.data.features.security&&s.admin},{title:"System",icon:Wr,feature:!0,submenu:[{title:"System Status",icon:sr,href:"/system/status",feature:!0},{title:"System Metrics",icon:Jt,href:"/system/metrics",feature:t.data.features.analytics},{title:"Firmware Update",icon:Ct,href:"/system/update",feature:(t.data.features.ota||t.data.features.upload_firmware||t.data.features.download_firmware)&&(!t.data.features.security||s.admin)}]}];const o=jt();function c(m){a.forEach(_=>{var w;_.active=_.title===m,(w=_.submenu)==null||w.forEach(v=>{v.active=v.title===m})}),r(1,a),o("menuClicked")}const h=()=>c(""),d=m=>{c(m.title),r(1,a)},g=m=>{c(m.title),r(1,a)},u=()=>{$e.invalidate()};return i.$$.update=()=>{i.$$.dirty&1&&c(t.data.title)},[t,a,s,l,n,c,h,d,g,u]}class pn extends W{constructor(e){super(),J(this,e,vn,_n,F,{})}}function wn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01m-2.838-2.828a4 4 0 0 1 5.656 0m-8.485-2.829a7.963 7.963 0 0 1 3.864-2.14m4.163.155a7.965 7.965 0 0 1 3.287 2M3.515 9.515A12 12 0 0 1 7.059 7.06m3.101-.92a12 12 0 0 1 10.325 3.374M3 3l18 18"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function bn(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class kn extends W{constructor(e){super(),J(this,e,bn,wn,F,{})}}function $n(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function yn(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class Bn extends W{constructor(e){super(),J(this,e,yn,$n,F,{})}}function En(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 6a7.75 7.75 0 1 0 10 0m-5-2v8"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function Cn(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class Mt extends W{constructor(e){super(),J(this,e,Cn,En,F,{})}}function Mn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function In(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class An extends W{constructor(e){super(),J(this,e,In,Mn,F,{})}}function Sn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2m1 3v4"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function Dn(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class jn extends W{constructor(e){super(),J(this,e,Dn,Sn,F,{})}}function Vn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2m1 3v4m3-4v4"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function Ln(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class Tn extends W{constructor(e){super(),J(this,e,Ln,Vn,F,{})}}function Nn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2m1 3v4m3-4v4m3-4v4"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function Un(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class Hn extends W{constructor(e){super(),J(this,e,Un,Nn,F,{})}}function On(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 7h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2m1 3v4m3-4v4m3-4v4m3-4v4"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function Pn(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class Rn extends W{constructor(e){super(),J(this,e,Pn,On,F,{})}}function xn(i){let e,r,t='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 9a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v.5a.5.5 0 0 0 .5.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5a.5.5 0 0 0-.5.5v.5a2 2 0 0 1-2 2h-4.5M3 15h6v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2zm3 7v-3m-2-4v-2.5M8 15v-2.5"/>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function qn(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class zn extends W{constructor(e){super(),J(this,e,qn,xn,F,{})}}function Gn(i){let e,r;return e=new An({props:{class:(i[2].class||"")+" text-error -rotate-90 animate-pulse"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" text-error -rotate-90 animate-pulse"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Fn(i){let e,r;return e=new jn({props:{class:(i[2].class||"")+" -rotate-90"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Wn(i){let e,r;return e=new Tn({props:{class:(i[2].class||"")+" -rotate-90"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Jn(i){let e,r;return e=new Hn({props:{class:(i[2].class||"")+" -rotate-90"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Xn(i){let e,r;return e=new Rn({props:{class:(i[2].class||"")+" -rotate-90"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Qn(i){let e,r;return e=new zn({props:{class:(i[2].class||"")+" -rotate-90 animate-pulse"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&4&&(l.class=(t[2].class||"")+" -rotate-90 animate-pulse"),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Yn(i){let e,r,t,s,l;const n=[Qn,Xn,Jn,Wn,Fn,Gn],a=[];function o(c,h){return c[0]?0:c[1]>75?1:c[1]>55?2:c[1]>30?3:c[1]>5?4:5}return r=o(i),t=a[r]=n[r](i),{c(){e=M("div"),t.c(),this.h()},l(c){e=I(c,"DIV",{class:!0,"data-tip":!0});var h=y(e);t.l(h),h.forEach(f),this.h()},h(){k(e,"class","tooltip tooltip-bottom"),k(e,"data-tip",s=i[1]+" %")},m(c,h){S(c,e,h),a[r].m(e,null),l=!0},p(c,[h]){let d=r;r=o(c),r===d?a[r].p(c,h):(Z(),$(a[d],1,1,()=>{a[d]=null}),ee(),t=a[r],t?t.p(c,h):(t=a[r]=n[r](c),t.c()),p(t,1),t.m(e,null)),(!l||h&2&&s!==(s=c[1]+" %"))&&k(e,"data-tip",s)},i(c){l||(p(t),l=!0)},o(c){$(t),l=!1},d(c){c&&f(e),a[r].d()}}}function Kn(i,e,r){let{charging:t=!1}=e,{soc:s=100}=e;return i.$$set=l=>{r(2,e=B(B({},e),V(l))),"charging"in l&&r(0,t=l.charging),"soc"in l&&r(1,s=l.soc)},e=V(e),[t,s,e]}class Zn extends W{constructor(e){super(),J(this,e,Kn,Yn,F,{charging:0,soc:1})}}function mt(i){let e,r,t,s,l,n,a,o;return l=new Ct({props:{class:"h-7 w-7"}}),{c(){e=M("button"),r=M("span"),t=pe(i[1]),s=U(),O(l.$$.fragment),this.h()},l(c){e=I(c,"BUTTON",{class:!0});var h=y(e);r=I(h,"SPAN",{class:!0});var d=y(r);t=we(d,i[1]),d.forEach(f),s=H(h),G(l.$$.fragment,h),h.forEach(f),this.h()},h(){k(r,"class","indicator-item indicator-top indicator-center badge badge-info badge-xs top-2 scale-75 lg:top-1"),k(e,"class","btn btn-square btn-ghost h-9 w-9")},m(c,h){S(c,e,h),b(e,r),b(r,t),b(e,s),P(l,e,null),n=!0,a||(o=ve(e,"click",i[4]),a=!0)},p(c,h){(!n||h&2)&&be(t,c[1])},i(c){n||(p(l.$$.fragment,c),n=!0)},o(c){$(l.$$.fragment,c),n=!1},d(c){c&&f(e),R(l),a=!1,o()}}}function es(i){let e,r,t=i[0]&&mt(i);return{c(){t&&t.c(),e=oe()},l(s){t&&t.l(s),e=oe()},m(s,l){t&&t.m(s,l),S(s,e,l),r=!0},p(s,[l]){s[0]?t?(t.p(s,l),l&1&&p(t,1)):(t=mt(s),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(Z(),$(t,1,1,()=>{t=null}),ee())},i(s){r||(p(t),r=!0)},o(s){$(t),r=!1},d(s){s&&f(e),t&&t.d(s)}}}function ts(i,e,r){let t,s;fe(i,$e,g=>r(5,t=g)),fe(i,He,g=>r(6,s=g));let{update:l=!1}=e,n,a;async function o(){const g=`https://api.github.com/repos/${s.data.github}/releases/latest`;try{const u=await fetch(g,{method:"GET",headers:{accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"}});if(u.status!==200)throw new Error(`Failed to fetch latest release from ${g}`);const m=await u.json();if(r(0,l=!1),r(1,n=""),Gt(m.tag_name,s.data.features.firmware_version)===1)for(let _=0;_<m.assets.length;_++)m.assets[_].name.includes(".bin")&&m.assets[_].name.includes(s.data.features.firmware_built_target)&&(r(0,l=!0),r(1,n=m.tag_name),r(2,a=m.assets[_].browser_download_url),_e.info("Firmware update available.",5e3))}catch(u){console.error("Error:",u)}}async function c(g){try{const u=await fetch("/rest/downloadUpdate",{method:"POST",headers:{Authorization:s.data.features.security?"Bearer "+t.bearer_token:"Basic","Content-Type":"application/json"},body:JSON.stringify({download_url:g})})}catch(u){console.error("Error:",u)}}vt(()=>{s.data.features.download_firmware&&(!s.data.features.security||t.admin)&&(o(),setInterval(async()=>{o()},60*60*1e3))});function h(g){Fe($t,{title:"Confirm flashing new firmware to the device",message:"Are you sure you want to overwrite the existing firmware with a new one?",labels:{cancel:{label:"Abort",icon:kt},confirm:{label:"Update",icon:Ft}},onConfirm:()=>{c(g),Fe(Wt,{onConfirm:()=>tr()})}})}const d=()=>h(a);return i.$$set=g=>{"update"in g&&r(0,l=g.update)},[l,n,a,h,d]}class rs extends W{constructor(e){super(),J(this,e,ts,es,F,{update:0})}}function ns(i){let e,r;return e=new ir({props:{showDBm:!1,rssi_dbm:i[1].rssi.rssi,ssid:i[1].rssi.ssid,class:"h-7 w-7"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p(t,s){const l={};s&2&&(l.rssi_dbm=t[1].rssi.rssi),s&2&&(l.ssid=t[1].rssi.ssid),e.$set(l)},i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function ss(i){let e,r;return e=new kn({props:{class:"h-7 w-7"}}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p:C,i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function gt(i){let e,r,t;return r=new Zn({props:{charging:i[1].battery.charging,soc:i[1].battery.soc,class:"h-7 w-7"}}),{c(){e=M("div"),O(r.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var l=y(e);G(r.$$.fragment,l),l.forEach(f),this.h()},h(){k(e,"class","flex-none")},m(s,l){S(s,e,l),P(r,e,null),t=!0},p(s,l){const n={};l&2&&(n.charging=s[1].battery.charging),l&2&&(n.soc=s[1].battery.soc),r.$set(n)},i(s){t||(p(r.$$.fragment,s),t=!0)},o(s){$(r.$$.fragment,s),t=!1},d(s){s&&f(e),R(r)}}}function _t(i){let e,r,t,s,l,n;return t=new Mt({props:{class:"text-error h-9 w-9"}}),{c(){e=M("div"),r=M("button"),O(t.$$.fragment),this.h()},l(a){e=I(a,"DIV",{class:!0});var o=y(e);r=I(o,"BUTTON",{class:!0});var c=y(r);G(t.$$.fragment,c),c.forEach(f),o.forEach(f),this.h()},h(){k(r,"class","btn btn-square btn-ghost h-9 w-10"),k(e,"class","flex-none")},m(a,o){S(a,e,o),b(e,r),P(t,r,null),s=!0,l||(n=ve(r,"click",i[2]),l=!0)},p:C,i(a){s||(p(t.$$.fragment,a),s=!0)},o(a){$(t.$$.fragment,a),s=!1},d(a){a&&f(e),R(t),l=!1,n()}}}function as(i){let e,r,t,s,l,n,a=i[0].data.title+"",o,c,h,d,g,u,m,_,w,v,A;s=new Bn({props:{class:"h-6 w-auto"}}),d=new rs({});const N=[ss,ns],X=[];function le(j,x){return j[1].rssi.disconnected?0:1}m=le(i),_=X[m]=N[m](i);let q=i[0].data.features.battery&&gt(i),E=i[0].data.features.sleep&&_t(i);return{c(){e=M("div"),r=M("div"),t=M("label"),O(s.$$.fragment),l=U(),n=M("span"),o=pe(a),c=U(),h=M("div"),O(d.$$.fragment),g=U(),u=M("div"),_.c(),w=U(),q&&q.c(),v=U(),E&&E.c(),this.h()},l(j){e=I(j,"DIV",{class:!0});var x=y(e);r=I(x,"DIV",{class:!0});var ie=y(r);t=I(ie,"LABEL",{for:!0,class:!0});var he=y(t);G(s.$$.fragment,he),he.forEach(f),l=H(ie),n=I(ie,"SPAN",{class:!0});var me=y(n);o=we(me,a),me.forEach(f),ie.forEach(f),c=H(x),h=I(x,"DIV",{class:!0});var ue=y(h);G(d.$$.fragment,ue),ue.forEach(f),g=H(x),u=I(x,"DIV",{class:!0});var de=y(u);_.l(de),de.forEach(f),w=H(x),q&&q.l(x),v=H(x),E&&E.l(x),x.forEach(f),this.h()},h(){k(t,"for","main-menu"),k(t,"class","btn btn-ghost btn-circle btn-sm drawer-button lg:hidden"),k(n,"class","px-2 text-xl font-bold lg:text-2xl"),k(r,"class","flex-1"),k(h,"class","indicator flex-none"),k(u,"class","flex-none"),k(e,"class","navbar bg-base-300 sticky top-0 z-10 h-12 min-h-fit drop-shadow-lg lg:h-16")},m(j,x){S(j,e,x),b(e,r),b(r,t),P(s,t,null),b(r,l),b(r,n),b(n,o),b(e,c),b(e,h),P(d,h,null),b(e,g),b(e,u),X[m].m(u,null),b(e,w),q&&q.m(e,null),b(e,v),E&&E.m(e,null),A=!0},p(j,[x]){(!A||x&1)&&a!==(a=j[0].data.title+"")&&be(o,a);let ie=m;m=le(j),m===ie?X[m].p(j,x):(Z(),$(X[ie],1,1,()=>{X[ie]=null}),ee(),_=X[m],_?_.p(j,x):(_=X[m]=N[m](j),_.c()),p(_,1),_.m(u,null)),j[0].data.features.battery?q?(q.p(j,x),x&1&&p(q,1)):(q=gt(j),q.c(),p(q,1),q.m(e,v)):q&&(Z(),$(q,1,1,()=>{q=null}),ee()),j[0].data.features.sleep?E?(E.p(j,x),x&1&&p(E,1)):(E=_t(j),E.c(),p(E,1),E.m(e,null)):E&&(Z(),$(E,1,1,()=>{E=null}),ee())},i(j){A||(p(s.$$.fragment,j),p(d.$$.fragment,j),p(_),p(q),p(E),A=!0)},o(j){$(s.$$.fragment,j),$(d.$$.fragment,j),$(_),$(q),$(E),A=!1},d(j){j&&f(e),R(s),R(d),X[m].d(),q&&q.d(),E&&E.d()}}}function ls(i,e,r){let t,s,l;fe(i,$e,o=>r(3,t=o)),fe(i,He,o=>r(0,s=o)),fe(i,Ae,o=>r(1,l=o));async function n(){await fetch("/rest/sleep",{method:"POST",headers:{Authorization:s.data.features.security?"Bearer "+t.bearer_token:"Basic"}})}function a(){Fe($t,{title:"Confirm Power Down",message:"Are you sure you want to switch off the device?",labels:{cancel:{label:"Abort",icon:kt},confirm:{label:"Switch Off",icon:Mt}},onConfirm:()=>{yt(),n()}})}return[s,l,a]}class is extends W{constructor(e){super(),J(this,e,ls,as,F,{})}}function os(i){let e,r,t='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M15 8V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2-2v-2"/><path d="M21 12H8l3-3m0 6l-3-3"/></g>',s=[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},i[0]],l={};for(let n=0;n<s.length;n+=1)l=B(l,s[n]);return{c(){e=re("svg"),r=new ne(!0),this.h()},l(n){e=se(n,"svg",{viewBox:!0,width:!0,height:!0});var a=y(e);r=ae(a,!0),a.forEach(f),this.h()},h(){r.a=null,T(e,l)},m(n,a){S(n,e,a),r.m(t,e)},p(n,[a]){T(e,l=Q(s,[{viewBox:"0 0 24 24"},{width:"1.2em"},{height:"1.2em"},a&1&&n[0]]))},i:C,o:C,d(n){n&&f(e)}}}function cs(i,e,r){return i.$$set=t=>{r(0,e=B(B({},e),V(t)))},e=V(e),[e]}class us extends W{constructor(e){super(),J(this,e,cs,os,F,{})}}function fs(i){let e,r,t,s=`<img src="${Et}" alt="Logo" class="h-auto w-48 lg:w-64"/>`,l,n,a,o="Login",c,h,d,g='<span class="label-text text-md">Username</span>',u,m,_,w,v='<span class="label-text text-md">Password</span>',A,N,X,le,q,E,j,x,ie="Login",he,me,ue,de,Be,ke;function Se(z){i[5](z)}let Y={id:"pwd"};return i[1]!==void 0&&(Y.value=i[1]),N=new fr({props:Y}),Lt.push(()=>xt(N,"value",Se)),j=new us({props:{class:"mr-2 h-5 w-5"}}),{c(){e=M("div"),r=M("div"),t=M("figure"),t.innerHTML=s,l=U(),n=M("div"),a=M("h2"),a.textContent=o,c=U(),h=M("form"),d=M("label"),d.innerHTML=g,u=U(),m=M("input"),_=U(),w=M("label"),w.innerHTML=v,A=U(),O(N.$$.fragment),le=U(),q=M("div"),E=M("button"),O(j.$$.fragment),x=M("span"),x.textContent=ie,this.h()},l(z){e=I(z,"DIV",{class:!0});var te=y(e);r=I(te,"DIV",{class:!0});var L=y(r);t=I(L,"FIGURE",{class:!0,"data-svelte-h":!0}),Ie(t)!=="svelte-pg0p5y"&&(t.innerHTML=s),l=H(L),n=I(L,"DIV",{class:!0});var D=y(n);a=I(D,"H2",{class:!0,"data-svelte-h":!0}),Ie(a)!=="svelte-c1oa49"&&(a.textContent=o),c=H(D),h=I(D,"FORM",{class:!0});var K=y(h);d=I(K,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Ie(d)!=="svelte-1e953ba"&&(d.innerHTML=g),u=H(K),m=I(K,"INPUT",{type:!0,class:!0,id:!0}),_=H(K),w=I(K,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),Ie(w)!=="svelte-1ur0rr9"&&(w.innerHTML=v),A=H(K),G(N.$$.fragment,K),le=H(K),q=I(K,"DIV",{class:!0});var Me=y(q);E=I(Me,"BUTTON",{class:!0});var Ee=y(E);G(j.$$.fragment,Ee),x=I(Ee,"SPAN",{"data-svelte-h":!0}),Ie(x)!=="svelte-sdljcx"&&(x.textContent=ie),Ee.forEach(f),Me.forEach(f),K.forEach(f),D.forEach(f),L.forEach(f),te.forEach(f),this.h()},h(){k(t,"class","bg-base-200"),k(a,"class","card-title text-2xl"),k(d,"class","label"),k(d,"for","user"),k(m,"type","text"),k(m,"class","input input-bordered w-full max-w-xs"),k(m,"id","user"),k(w,"class","label"),k(w,"for","pwd"),k(E,"class","btn btn-primary inline-flex items-center"),k(q,"class","card-actions mt-4 justify-end"),k(h,"class","form-control w-full max-w-xs"),k(n,"class","card-body w-80"),k(r,"class",he="card lg:card-side bg-base-100 shadow-primary face shadow-2xl "+(i[2]?"failure border-error border-2":"")+" svelte-198cgfo"),k(e,"class","hero from-primary/30 to-secondary/30 min-h-screen bg-gradient-to-br")},m(z,te){S(z,e,te),b(e,r),b(r,t),b(r,l),b(r,n),b(n,a),b(n,c),b(n,h),b(h,d),b(h,u),b(h,m),Qe(m,i[0]),b(h,_),b(h,w),b(h,A),P(N,h,null),b(h,le),b(h,q),b(q,E),P(j,E,null),b(E,x),de=!0,Be||(ke=[ve(m,"input",i[4]),ve(E,"click",i[6])],Be=!0)},p(z,[te]){te&1&&m.value!==z[0]&&Qe(m,z[0]);const L={};!X&&te&2&&(X=!0,L.value=z[1],Tt(()=>X=!1)),N.$set(L),(!de||te&4&&he!==(he="card lg:card-side bg-base-100 shadow-primary face shadow-2xl "+(z[2]?"failure border-error border-2":"")+" svelte-198cgfo"))&&k(r,"class",he)},i(z){de||(p(N.$$.fragment,z),p(j.$$.fragment,z),z&&We(()=>{de&&(ue&&ue.end(1),me=pt(r,ze,{delay:200,y:100,duration:500}),me.start())}),de=!0)},o(z){$(N.$$.fragment,z),$(j.$$.fragment,z),me&&me.invalidate(),z&&(ue=wt(r,Ge,{duration:200})),de=!1},d(z){z&&f(e),R(N),R(j),z&&ue&&ue.end(),Be=!1,Dt(ke)}}}function hs(i,e,r){let t;fe(i,$e,g=>r(8,t=g));let s="",l="",n=!1,a={access_token:""};async function o(g){try{const u=await fetch("/rest/signIn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(u.status===200){a=await u.json(),$e.init(a.access_token);let m=t.username;_e.success("User "+m+" signed in",5e3)}else r(0,s=""),r(1,l=""),_e.error("Wrong Username or Password!",5e3),r(2,n=!0),setTimeout(()=>{r(2,n=!1)},1500)}catch(u){console.error("Error:",u)}}function c(){s=this.value,r(0,s)}function h(g){l=g,r(1,l)}return[s,l,n,o,c,h,()=>{o({username:s,password:l})}]}class ds extends W{constructor(e){super(),J(this,e,hs,fs,F,{})}}function ms(i){let e,r,t,s,l,n,a,o,c,h,d,g,u,m;l=new is({});const _=i[4].default,w=Le(_,i,i[7],null);return d=new pn({}),d.$on("menuClicked",i[6]),{c(){e=M("div"),r=M("input"),t=U(),s=M("div"),O(l.$$.fragment),n=U(),w&&w.c(),a=U(),o=M("div"),c=M("label"),h=U(),O(d.$$.fragment),this.h()},l(v){e=I(v,"DIV",{class:!0});var A=y(e);r=I(A,"INPUT",{id:!0,type:!0,class:!0}),t=H(A),s=I(A,"DIV",{class:!0});var N=y(s);G(l.$$.fragment,N),n=H(N),w&&w.l(N),N.forEach(f),a=H(A),o=I(A,"DIV",{class:!0});var X=y(o);c=I(X,"LABEL",{for:!0,class:!0}),y(c).forEach(f),h=H(X),G(d.$$.fragment,X),X.forEach(f),A.forEach(f),this.h()},h(){k(r,"id","main-menu"),k(r,"type","checkbox"),k(r,"class","drawer-toggle"),k(s,"class","drawer-content flex flex-col"),k(c,"for","main-menu"),k(c,"class","drawer-overlay"),k(o,"class","drawer-side z-30 shadow-lg"),k(e,"class","drawer lg:drawer-open")},m(v,A){S(v,e,A),b(e,r),r.checked=i[2],b(e,t),b(e,s),P(l,s,null),b(s,n),w&&w.m(s,null),b(e,a),b(e,o),b(o,c),b(o,h),P(d,o,null),g=!0,u||(m=ve(r,"change",i[5]),u=!0)},p(v,A){A&4&&(r.checked=v[2]),w&&w.p&&(!g||A&128)&&Te(w,_,v,v[7],g?Ue(_,v[7],A,null):Ne(v[7]),null)},i(v){g||(p(l.$$.fragment,v),p(w,v),p(d.$$.fragment,v),g=!0)},o(v){$(l.$$.fragment,v),$(w,v),$(d.$$.fragment,v),g=!1},d(v){v&&f(e),R(l),w&&w.d(v),R(d),u=!1,m()}}}function gs(i){let e,r;return e=new ds({}),{c(){O(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,s){P(e,t,s),r=!0},p:C,i(t){r||(p(e.$$.fragment,t),r=!0)},o(t){$(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function _s(i){let e,r,t,s,l;return{c(){e=M("div"),this.h()},l(n){e=I(n,"DIV",{slot:!0,class:!0}),y(e).forEach(f),this.h()},h(){k(e,"slot","backdrop"),k(e,"class","fixed inset-0 z-40 max-h-full max-w-full bg-black/20 backdrop-blur")},m(n,a){S(n,e,a),t=!0,s||(l=ve(e,"click",yt),s=!0)},p:C,i(n){t||(n&&We(()=>{t&&(r||(r=Ye(e,Ge,{},!0)),r.run(1))}),t=!0)},o(n){n&&(r||(r=Ye(e,Ge,{},!1)),r.run(0)),t=!1},d(n){n&&f(e),n&&r&&r.end(),s=!1,l()}}}function vs(i){let e,r,t,s,l,n,a,o,c;document.title=e=i[0].data.title;const h=[gs,ms],d=[];function g(u,m){return u[0].data.features.security&&u[1].bearer_token===""?0:1}return t=g(i),s=d[t]=h[t](i),n=new Dr({props:{$$slots:{backdrop:[_s]},$$scope:{ctx:i}}}),o=new Rr({}),{c(){r=U(),s.c(),l=U(),O(n.$$.fragment),a=U(),O(o.$$.fragment)},l(u){Nt("svelte-13v4y7l",document.head).forEach(f),r=H(u),s.l(u),l=H(u),G(n.$$.fragment,u),a=H(u),G(o.$$.fragment,u)},m(u,m){S(u,r,m),d[t].m(u,m),S(u,l,m),P(n,u,m),S(u,a,m),P(o,u,m),c=!0},p(u,[m]){(!c||m&1)&&e!==(e=u[0].data.title)&&(document.title=e);let _=t;t=g(u),t===_?d[t].p(u,m):(Z(),$(d[_],1,1,()=>{d[_]=null}),ee(),s=d[t],s?s.p(u,m):(s=d[t]=h[t](u),s.c()),p(s,1),s.m(l.parentNode,l));const w={};m&128&&(w.$$scope={dirty:m,ctx:u}),n.$set(w)},i(u){c||(p(s),p(n.$$.fragment,u),p(o.$$.fragment,u),c=!0)},o(u){$(s),$(n.$$.fragment,u),$(o.$$.fragment,u),c=!1},d(u){u&&(f(r),f(l),f(a)),d[t].d(u),R(n,u),R(o,u)}}}function ps(i,e,r){let t,s;fe(i,He,E=>r(0,t=E)),fe(i,$e,E=>r(1,s=E));let{$$slots:l={},$$scope:n}=e,{data:a}=e;vt(async()=>{s.bearer_token!==""&&await d(s)});const o=()=>{const E=t.data.features.security?"?access_token="+s.bearer_token:"";ce.init(`ws://${window.location.host}/ws/events${E}`,t.data.features.event_use_json),c()};Ut(()=>{h()});const c=()=>{ce.on("open",g),ce.on("close",u),ce.on("error",m),ce.on("rssi",v),ce.on("notification",_),t.data.features.analytics&&ce.on("analytics",w),t.data.features.battery&&ce.on("battery",A),t.data.features.download_firmware&&ce.on("otastatus",N)},h=()=>{ce.off("analytics",w),ce.off("open",g),ce.off("close",u),ce.off("rssi",v),ce.off("notification",_),ce.off("battery",A),ce.off("otastatus",N)};async function d(E){try{(await fetch("/rest/verifyAuthorization",{method:"GET",headers:{Authorization:"Bearer "+E.bearer_token,"Content-Type":"application/json"}})).status!==200&&$e.invalidate()}catch(j){console.error("Error:",j)}}const g=()=>{_e.success("Connection to device established",5e3)},u=()=>{_e.error("Connection to device lost",5e3),Ae.setRSSI({rssi:0,ssid:""})},m=E=>console.error(E),_=E=>{switch(E.type){case"info":_e.info(E.message,5e3);break;case"warning":_e.warning(E.message,5e3);break;case"error":_e.error(E.message,5e3);break;case"success":_e.success(E.message,5e3);break}},w=E=>Xt.addData(E),v=E=>Ae.setRSSI(E),A=E=>{Ae.setBattery(E),wr.addData(E)},N=E=>Ae.setDownloadOTA(E);let X=!1;function le(){X=this.checked,r(2,X)}const q=()=>{r(2,X=!1)};return i.$$set=E=>{"data"in E&&r(3,a=E.data),"$$scope"in E&&r(7,n=E.$$scope)},i.$$.update=()=>{i.$$.dirty&3&&(t.data.features.security&&s.bearer_token===""||o())},[t,s,X,a,l,le,q,n]}class xs extends W{constructor(e){super(),J(this,e,ps,vs,F,{data:3})}}export{xs as component,Rs as universal};
