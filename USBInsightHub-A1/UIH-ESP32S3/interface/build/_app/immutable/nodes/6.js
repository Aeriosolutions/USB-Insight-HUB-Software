import{s as Dt,n as bt,r as Zt}from"../chunks/utils.js";import{b as i,s as b,f as o,g,C as I,c as v,d as _,h as c,j as K,i as E,w as r,B as en,o as tn,G as nn,k,l as w,D as Pe,y as P,m as Ye,I as De}from"../chunks/scheduler.js";import{S as Ot,i as Vt,b as ln,d as rn,m as an,a as sn,t as cn,e as on}from"../chunks/index.js";import{e as Nt}from"../chunks/each.js";import"../chunks/user.js";import"../chunks/singletons.js";import{s as Ie}from"../chunks/socket.js";import{H as Ve}from"../chunks/help.js";const _n=async({fetch:t})=>({title:"Control Panel"}),Fn=Object.freeze(Object.defineProperty({__proto__:null,load:_n},Symbol.toStringTag,{value:"Module"}));function Bt(t,e,n){const l=t.slice();return l[31]=e[n],l[32]=e,l[33]=n,l}function un(t){let e;return{c(){e=k("-")},l(n){e=w(n,"-")},m(n,l){E(n,e,l)},d(n){n&&_(e)}}}function dn(t){let e;return{c(){e=k("✔")},l(n){e=w(n,"✔")},m(n,l){E(n,e,l)},d(n){n&&_(e)}}}function fn(t){let e;return{c(){e=k("HOST")},l(n){e=w(n,"HOST")},m(n,l){E(n,e,l)},d(n){n&&_(e)}}}function mn(t){let e;return{c(){e=k("AUX")},l(n){e=w(n,"AUX")},m(n,l){E(n,e,l)},d(n){n&&_(e)}}}function pn(t){let e;return{c(){e=k("USB 3.0")},l(n){e=w(n,"USB 3.0")},m(n,l){E(n,e,l)},d(n){n&&_(e)}}}function hn(t){let e;return{c(){e=k("USB 2.0")},l(n){e=w(n,"USB 2.0")},m(n,l){E(n,e,l)},d(n){n&&_(e)}}}function bn(t){let e;return{c(){e=k("-")},l(n){e=w(n,"-")},m(n,l){E(n,e,l)},d(n){n&&_(e)}}}function vn(t){let e;return{c(){e=k("OFF")},l(n){e=w(n,"OFF")},m(n,l){E(n,e,l)},d(n){n&&_(e)}}}function Cn(t){let e;return{c(){e=k("ON")},l(n){e=w(n,"ON")},m(n,l){E(n,e,l)},d(n){n&&_(e)}}}function gn(t){let e;return{c(){e=k("Backward Overcurrent!")},l(n){e=w(n,"Backward Overcurrent!")},m(n,l){E(n,e,l)},d(n){n&&_(e)}}}function kn(t){let e;return{c(){e=k("Forward Overcurrent!")},l(n){e=w(n,"Forward Overcurrent!")},m(n,l){E(n,e,l)},d(n){n&&_(e)}}}function wn(t){let e;return{c(){e=k("Short!")},l(n){e=w(n,"Short!")},m(n,l){E(n,e,l)},d(n){n&&_(e)}}}function Pt(t){let e,n="Clear Fault",l,p;function $(){return t[10](t[31])}return{c(){e=i("button"),e.textContent=n,this.h()},l(u){e=o(u,"BUTTON",{class:!0,"data-svelte-h":!0}),I(e)!=="svelte-1tj9kgx"&&(e.textContent=n),this.h()},h(){c(e,"class","bg-blue-500 text-white py-1 px-3 rounded hover:bg-blue-600 w-50")},m(u,S){E(u,e,S),l||(p=P(e,"click",$),l=!0)},p(u,S){t=u},d(u){u&&_(e),l=!1,p()}}}function yn(t){let e,n="ℹ️";return{c(){e=i("span"),e.textContent=n,this.h()},l(l){e=o(l,"SPAN",{class:!0,title:!0,"data-svelte-h":!0}),I(e)!=="svelte-4yets8"&&(e.textContent=n),this.h()},h(){c(e,"class","text-sm cursor-help"),c(e,"title",Ve.CONTROL.OVER_CURRENT)},m(l,p){E(l,e,p)},d(l){l&&_(e)}}}function $n(t){let e,n="ℹ️";return{c(){e=i("span"),e.textContent=n,this.h()},l(l){e=o(l,"SPAN",{class:!0,title:!0,"data-svelte-h":!0}),I(e)!=="svelte-bq2e59"&&(e.textContent=n),this.h()},h(){c(e,"class","text-sm cursor-help"),c(e,"title",Ve.CONTROL.BACK_CURRENT)},m(l,p){E(l,e,p)},d(l){l&&_(e)}}}function Sn(t){let e,n="     ℹ️";return{c(){e=i("span"),e.textContent=n,this.h()},l(l){e=o(l,"SPAN",{class:!0,title:!0,"data-svelte-h":!0}),I(e)!=="svelte-1xbr177"&&(e.textContent=n),this.h()},h(){c(e,"class","text-sm cursor-help"),c(e,"title",Ve.CONTROL.STARTUP_DELAY)},m(l,p){E(l,e,p)},d(l){l&&_(e)}}}function It(t){let e,n,l,p,$=t[31].id+"",u,S,y,j,h,H,Z="Enumerators:",x,q,L=t[0][`c${t[31].id}_USBInfo_Dev1_Name`]+"",F,me,X,N=t[0][`c${t[31].id}_USBInfo_Dev2_Name`]+"",ie,oe,z,U,W,Y,ee=(t[0][`c${t[31].id}_meter_voltage`]/1e3).toFixed(3)+"",_e,ce,D,te,ue,A,a=Math.abs(t[0][`c${t[31].id}_meter_current`]/1e3).toFixed(3)+"",s,m,T,d,G,ne,le,pe,we,Me,Ge,he,be,ye,vt="Power Control:  ",Ke,J,We,ve,$e,Ct="Data Control:    ",Je,Q,Qe,Fe,Ze,re,Se,gt="Over Current Limit :",et,O,tt,nt,ae,Le,kt="Back Current Limit :",lt,V,rt,at,se,Ae,wt="Startup Time Delay:",st,M,ct,it,de,ot,ze,_t,ut,yt;function $t(C,f){if(C[0][`c${C[31].id}_USBInfo_usbType`]==0)return bn;if(C[0][`c${C[31].id}_USBInfo_usbType`]==2)return hn;if(C[0][`c${C[31].id}_USBInfo_usbType`]==3)return pn}let Ee=$t(t),R=Ee&&Ee(t);function St(C,f){return C[0][`c${C[31].id}_BaseMCU_fault`]?wn:C[0][`c${C[31].id}_meter_fwdAlertSet`]?kn:C[0][`c${C[31].id}_meter_backAlertSet`]?gn:C[0][`c${C[31].id}_BaseMCU_pwr_en`]?Cn:vn}let Re=St(t),fe=Re(t),B=(t[0][`c${t[31].id}_BaseMCU_fault`]||t[0][`c${t[31].id}_meter_fwdAlertSet`]||t[0][`c${t[31].id}_meter_backAlertSet`])&&Pt(t);function Mt(){t[11].call(J,t[31])}function Ft(){return t[12](t[31])}function zt(){return t[13](t[31])}function Rt(){return t[14](t[31])}function jt(){t[15].call(Q,t[31])}function Ht(){return t[16](t[31])}function xt(){return t[17](t[31])}function qt(){return t[18](t[31])}function Xt(){t[19].call(O,t[31])}function Yt(...C){return t[20](t[31],...C)}let Ce=t[31].id==1&&yn();function Gt(){t[21].call(V,t[31])}function Kt(...C){return t[22](t[31],...C)}let ge=t[31].id==1&&$n();function Wt(){t[23].call(M,t[31])}function Jt(...C){return t[24](t[31],...C)}let ke=t[31].id==1&&Sn();function Qt(){return t[25](t[31])}return{c(){e=i("div"),n=i("div"),l=i("span"),p=k("Channel "),u=k($),S=b(),y=i("span"),R&&R.c(),j=b(),h=i("div"),H=i("label"),H.textContent=Z,x=b(),q=i("div"),F=k(L),me=b(),X=i("div"),ie=k(N),oe=b(),z=i("div"),U=i("div"),W=k("Voltage:  "),Y=i("span"),_e=k(ee),ce=k(" V"),D=b(),te=i("div"),ue=k("Current:  "),A=i("span"),s=k(a),m=k(" A"),T=b(),d=i("div"),G=k(`Status:     \r
			`),ne=i("span"),fe.c(),pe=b(),B&&B.c(),we=b(),Me=i("hr"),Ge=b(),he=i("div"),be=i("label"),ye=i("span"),ye.textContent=vt,Ke=b(),J=i("input"),We=b(),ve=i("label"),$e=i("span"),$e.textContent=Ct,Je=b(),Q=i("input"),Qe=b(),Fe=i("hr"),Ze=b(),re=i("div"),Se=i("span"),Se.textContent=gt,et=b(),O=i("input"),tt=k(` mA\r
			`),Ce&&Ce.c(),nt=b(),ae=i("div"),Le=i("span"),Le.textContent=kt,lt=b(),V=i("input"),rt=k(` mA\r
			`),ge&&ge.c(),at=b(),se=i("div"),Ae=i("span"),Ae.textContent=wt,st=b(),M=i("input"),ct=k(` s\r
			`),ke&&ke.c(),it=b(),de=i("button"),ot=k("Update"),_t=b(),this.h()},l(C){e=o(C,"DIV",{class:!0});var f=g(e);n=o(f,"DIV",{class:!0});var je=g(n);l=o(je,"SPAN",{class:!0,style:!0});var dt=g(l);p=w(dt,"Channel "),u=w(dt,$),dt.forEach(_),S=v(je),y=o(je,"SPAN",{class:!0});var Lt=g(y);R&&R.l(Lt),Lt.forEach(_),je.forEach(_),j=v(f),h=o(f,"DIV",{class:!0});var Ue=g(h);H=o(Ue,"LABEL",{class:!0,style:!0,"data-svelte-h":!0}),I(H)!=="svelte-7emtaz"&&(H.textContent=Z),x=v(Ue),q=o(Ue,"DIV",{class:!0,style:!0});var At=g(q);F=w(At,L),At.forEach(_),me=v(Ue),X=o(Ue,"DIV",{class:!0,style:!0});var Et=g(X);ie=w(Et,N),Et.forEach(_),Ue.forEach(_),oe=v(f),z=o(f,"DIV",{class:!0});var He=g(z);U=o(He,"DIV",{});var ft=g(U);W=w(ft,"Voltage:  "),Y=o(ft,"SPAN",{class:!0,style:!0});var mt=g(Y);_e=w(mt,ee),ce=w(mt," V"),mt.forEach(_),ft.forEach(_),D=v(He),te=o(He,"DIV",{});var pt=g(te);ue=w(pt,"Current:  "),A=o(pt,"SPAN",{class:!0,style:!0});var ht=g(A);s=w(ht,a),m=w(ht," A"),ht.forEach(_),pt.forEach(_),He.forEach(_),T=v(f),d=o(f,"DIV",{class:!0});var Oe=g(d);G=w(Oe,`Status:     \r
			`),ne=o(Oe,"SPAN",{class:!0});var Ut=g(ne);fe.l(Ut),Ut.forEach(_),pe=v(Oe),B&&B.l(Oe),Oe.forEach(_),we=v(f),Me=o(f,"HR",{class:!0}),Ge=v(f),he=o(f,"DIV",{class:!0});var xe=g(he);be=o(xe,"LABEL",{class:!0});var qe=g(be);ye=o(qe,"SPAN",{class:!0,"data-svelte-h":!0}),I(ye)!=="svelte-1mcxi4x"&&(ye.textContent=vt),Ke=v(qe),J=o(qe,"INPUT",{type:!0,class:!0}),qe.forEach(_),We=v(xe),ve=o(xe,"LABEL",{class:!0});var Xe=g(ve);$e=o(Xe,"SPAN",{class:!0,"data-svelte-h":!0}),I($e)!=="svelte-1ldh0ke"&&($e.textContent=Ct),Je=v(Xe),Q=o(Xe,"INPUT",{type:!0,class:!0}),Xe.forEach(_),xe.forEach(_),Qe=v(f),Fe=o(f,"HR",{class:!0}),Ze=v(f),re=o(f,"DIV",{class:!0,style:!0});var Te=g(re);Se=o(Te,"SPAN",{class:!0,"data-svelte-h":!0}),I(Se)!=="svelte-1nw8e2n"&&(Se.textContent=gt),et=v(Te),O=o(Te,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0,style:!0}),tt=w(Te,` mA\r
			`),Ce&&Ce.l(Te),Te.forEach(_),nt=v(f),ae=o(f,"DIV",{class:!0,style:!0});var Ne=g(ae);Le=o(Ne,"SPAN",{class:!0,"data-svelte-h":!0}),I(Le)!=="svelte-1stnzje"&&(Le.textContent=kt),lt=v(Ne),V=o(Ne,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0,style:!0}),rt=w(Ne,` mA\r
			`),ge&&ge.l(Ne),Ne.forEach(_),at=v(f),se=o(f,"DIV",{class:!0,style:!0});var Be=g(se);Ae=o(Be,"SPAN",{class:!0,"data-svelte-h":!0}),I(Ae)!=="svelte-4moqz6"&&(Ae.textContent=wt),st=v(Be),M=o(Be,"INPUT",{type:!0,class:!0,min:!0,max:!0,step:!0,style:!0}),ct=w(Be,` s\r
			`),ke&&ke.l(Be),Be.forEach(_),it=v(f),de=o(f,"BUTTON",{class:!0});var Tt=g(de);ot=w(Tt,"Update"),Tt.forEach(_),_t=v(f),f.forEach(_),this.h()},h(){c(l,"class","font-bold"),K(l,"font-size","25px"),c(y,"class","text-gray-500"),c(n,"class","flex justify-between mb-2"),c(H,"class","text-gray-600 text-sm block"),K(H,"font-size","20px"),c(q,"class","bg-gray-100 p-2 rounded"),K(q,"font-size","20px"),c(X,"class","bg-gray-100 p-2 rounded"),K(X,"font-size","20px"),c(h,"class","mb-4"),c(Y,"class","font-bold text-blue-600"),K(Y,"font-size","25px"),c(A,"class","font-bold text-blue-600"),K(A,"font-size","25px"),c(z,"class","mb-2"),c(ne,"class",le=t[0][`c${t[31].id}_BaseMCU_fault`]?"text-red-500 font-bold":t[0][`c${t[31].id}_meter_fwdAlertSet`]||t[0][`c${t[31].id}_meter_backAlertSet`]?"text-yellow-500 font-bold":t[0][`c${t[31].id}_BaseMCU_pwr_en`]?"text-green-500 font-bold":"text-gray-500 font-bold"),c(d,"class","mb-4"),c(Me,"class","separator"),c(ye,"class","tab-space"),c(J,"type","checkbox"),c(J,"class","toggle toggle-primary rounded-full"),c(be,"class","flex items-center gap-2 mb-2"),c($e,"class","tab-space"),c(Q,"type","checkbox"),c(Q,"class","toggle toggle-primary rounded-full"),c(ve,"class","flex items-center gap-2"),c(he,"class","mb-4"),c(Fe,"class","separator"),c(Se,"class","tab-space"),c(O,"type","number"),c(O,"class","border rounded p-1"),c(O,"min","100"),c(O,"max","2000"),c(O,"step","1"),K(O,"width","80px"),c(re,"class","text-sm text-gray-600 mb-2"),K(re,"font-size","20px"),c(Le,"class","tab-space"),c(V,"type","number"),c(V,"class","border rounded p-1"),c(V,"min","20"),c(V,"max","100"),c(V,"step","1"),K(V,"width","80px"),c(ae,"class","text-sm text-gray-600 mb-2"),K(ae,"font-size","20px"),c(Ae,"class","tab-space"),c(M,"type","number"),c(M,"class","border rounded p-1"),c(M,"min","1"),c(M,"max","10"),c(M,"step","0.1"),K(M,"width","80px"),c(se,"class","text-sm text-gray-600 mb-4"),K(se,"font-size","20px"),c(de,"class","bg-blue-500 text-white py-1 px-3 rounded hover:bg-blue-600 w-50 transition duration-200 bg-gray-400 cursor-not-allowed disabled:opacity-50 enabled:bg-blue-500 enabled:hover:bg-blue-600 enabled:cursor-pointer"),de.disabled=ze=!t[4][`c${t[31].id}`],c(e,"class","bg-white rounded-lg shadow p-4")},m(C,f){E(C,e,f),r(e,n),r(n,l),r(l,p),r(l,u),r(n,S),r(n,y),R&&R.m(y,null),r(e,j),r(e,h),r(h,H),r(h,x),r(h,q),r(q,F),r(h,me),r(h,X),r(X,ie),r(e,oe),r(e,z),r(z,U),r(U,W),r(U,Y),r(Y,_e),r(Y,ce),r(z,D),r(z,te),r(te,ue),r(te,A),r(A,s),r(A,m),r(e,T),r(e,d),r(d,G),r(d,ne),fe.m(ne,null),r(d,pe),B&&B.m(d,null),r(e,we),r(e,Me),r(e,Ge),r(e,he),r(he,be),r(be,ye),r(be,Ke),r(be,J),J.checked=t[3][`c${t[31].id}_pwr`],r(he,We),r(he,ve),r(ve,$e),r(ve,Je),r(ve,Q),Q.checked=t[3][`c${t[31].id}_data`],r(e,Qe),r(e,Fe),r(e,Ze),r(e,re),r(re,Se),r(re,et),r(re,O),Pe(O,t[2][`c${t[31].id}_fwdCLim`]),r(re,tt),Ce&&Ce.m(re,null),r(e,nt),r(e,ae),r(ae,Le),r(ae,lt),r(ae,V),Pe(V,t[2][`c${t[31].id}_backCLim`]),r(ae,rt),ge&&ge.m(ae,null),r(e,at),r(e,se),r(se,Ae),r(se,st),r(se,M),Pe(M,t[2][`c${t[31].id}_startupTime`]),r(se,ct),ke&&ke.m(se,null),r(e,it),r(e,de),r(de,ot),r(e,_t),ut||(yt=[P(J,"change",Mt),P(J,"change",Ft),P(J,"mouseenter",zt),P(J,"mouseleave",Rt),P(Q,"change",jt),P(Q,"change",Ht),P(Q,"mouseenter",xt),P(Q,"mouseleave",qt),P(O,"input",Xt),P(O,"change",Yt),P(V,"input",Gt),P(V,"change",Kt),P(M,"input",Wt),P(M,"change",Jt),P(de,"click",Qt)],ut=!0)},p(C,f){t=C,Ee!==(Ee=$t(t))&&(R&&R.d(1),R=Ee&&Ee(t),R&&(R.c(),R.m(y,null))),f[0]&1&&L!==(L=t[0][`c${t[31].id}_USBInfo_Dev1_Name`]+"")&&Ye(F,L),f[0]&1&&N!==(N=t[0][`c${t[31].id}_USBInfo_Dev2_Name`]+"")&&Ye(ie,N),f[0]&1&&ee!==(ee=(t[0][`c${t[31].id}_meter_voltage`]/1e3).toFixed(3)+"")&&Ye(_e,ee),f[0]&1&&a!==(a=Math.abs(t[0][`c${t[31].id}_meter_current`]/1e3).toFixed(3)+"")&&Ye(s,a),Re!==(Re=St(t))&&(fe.d(1),fe=Re(t),fe&&(fe.c(),fe.m(ne,null))),f[0]&1&&le!==(le=t[0][`c${t[31].id}_BaseMCU_fault`]?"text-red-500 font-bold":t[0][`c${t[31].id}_meter_fwdAlertSet`]||t[0][`c${t[31].id}_meter_backAlertSet`]?"text-yellow-500 font-bold":t[0][`c${t[31].id}_BaseMCU_pwr_en`]?"text-green-500 font-bold":"text-gray-500 font-bold")&&c(ne,"class",le),t[0][`c${t[31].id}_BaseMCU_fault`]||t[0][`c${t[31].id}_meter_fwdAlertSet`]||t[0][`c${t[31].id}_meter_backAlertSet`]?B?B.p(t,f):(B=Pt(t),B.c(),B.m(d,null)):B&&(B.d(1),B=null),f[0]&72&&(J.checked=t[3][`c${t[31].id}_pwr`]),f[0]&72&&(Q.checked=t[3][`c${t[31].id}_data`]),f[0]&68&&De(O.value)!==t[2][`c${t[31].id}_fwdCLim`]&&Pe(O,t[2][`c${t[31].id}_fwdCLim`]),f[0]&68&&De(V.value)!==t[2][`c${t[31].id}_backCLim`]&&Pe(V,t[2][`c${t[31].id}_backCLim`]),f[0]&68&&De(M.value)!==t[2][`c${t[31].id}_startupTime`]&&Pe(M,t[2][`c${t[31].id}_startupTime`]),f[0]&16&&ze!==(ze=!t[4][`c${t[31].id}`])&&(de.disabled=ze)},d(C){C&&_(e),R&&R.d(),fe.d(),B&&B.d(),Ce&&Ce.d(),ge&&ge.d(),ke&&ke.d(),ut=!1,Zt(yt)}}}function Ln(t){let e,n,l,p='<span>Host Data</span> <span class="text-green-500 font-bold">✔</span>',$,u,S,y="PC Comm",j,h,H="ℹ️:",Z,x,q,L,F,me="Power",X,N,ie="ℹ️:",oe,z,U,W,Y=`.flex-container {\r
			display: flex;\r
			align-items: center; /* Align items vertically */\r
			gap: 0.5rem; /* Add some space between items */\r
		}\r
		\r
		.flex-container label {\r
			margin-bottom: 0; /* Remove default margin */\r
		}\r
\r
		.tab-space::after {\r
			content: "";\r
			display: inline-block;\r
			width: 2em; /* Adjust the value as needed */\r
    	}\r
		.separator {\r
			border: none;\r
			border-top: 4px solid #ccc; /* Adjust the color and thickness as needed */\r
			margin: 20px 0; /* Adjust the spacing as needed */\r
  		}`,ee;function _e(m,T){return m[0].features_pcConnected?dn:un}let ce=_e(t),D=ce(t);function te(m,T){return m[0].BaseMCU_pwr_source?mn:fn}let ue=te(t),A=ue(t),a=Nt(t[6]),s=[];for(let m=0;m<a.length;m+=1)s[m]=It(Bt(t,a,m));return{c(){e=i("div"),n=i("div"),l=i("div"),l.innerHTML=p,$=b(),u=i("div"),S=i("span"),S.textContent=y,j=b(),h=i("span"),h.textContent=H,Z=b(),x=i("span"),D.c(),q=b(),L=i("div"),F=i("span"),F.textContent=me,X=b(),N=i("span"),N.textContent=ie,oe=b(),A.c(),z=b(),U=i("div"),W=i("style"),W.textContent=Y,ee=b();for(let m=0;m<s.length;m+=1)s[m].c();this.h()},l(m){e=o(m,"DIV",{class:!0,style:!0});var T=g(e);n=o(T,"DIV",{class:!0});var d=g(n);l=o(d,"DIV",{class:!0,"data-svelte-h":!0}),I(l)!=="svelte-i4e6ep"&&(l.innerHTML=p),$=v(d),u=o(d,"DIV",{class:!0});var G=g(u);S=o(G,"SPAN",{"data-svelte-h":!0}),I(S)!=="svelte-1w5xcch"&&(S.textContent=y),j=v(G),h=o(G,"SPAN",{class:!0,title:!0,"data-svelte-h":!0}),I(h)!=="svelte-1ekn8yu"&&(h.textContent=H),Z=v(G),x=o(G,"SPAN",{class:!0});var ne=g(x);D.l(ne),ne.forEach(_),G.forEach(_),q=v(d),L=o(d,"DIV",{class:!0});var le=g(L);F=o(le,"SPAN",{"data-svelte-h":!0}),I(F)!=="svelte-1gtk8vx"&&(F.textContent=me),X=v(le),N=o(le,"SPAN",{class:!0,title:!0,"data-svelte-h":!0}),I(N)!=="svelte-1fwleof"&&(N.textContent=ie),oe=v(le),A.l(le),le.forEach(_),d.forEach(_),z=v(T),U=o(T,"DIV",{class:!0});var pe=g(U);W=o(pe,"STYLE",{"data-svelte-h":!0}),I(W)!=="svelte-19m1d9q"&&(W.textContent=Y),ee=v(pe);for(let we=0;we<s.length;we+=1)s[we].l(pe);pe.forEach(_),T.forEach(_),this.h()},h(){c(l,"class","flex items-center gap-2"),c(h,"class","text-sm cursor-help"),c(h,"title",Ve.CONTROL.PCCOM),c(x,"class","text-green-500 font-bold"),c(u,"class","flex items-center gap-2"),c(N,"class","text-sm cursor-help"),c(N,"title",Ve.CONTROL.POWER),c(L,"class","flex items-center gap-2"),c(n,"class","flex justify-around items-center bg-gray-300 p-4 rounded-lg shadow-md mb-4"),c(U,"class","grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"),c(e,"class","bg-gray-100 min-h-screen p-4"),K(e,"font-size","20px")},m(m,T){E(m,e,T),r(e,n),r(n,l),r(n,$),r(n,u),r(u,S),r(u,j),r(u,h),r(u,Z),r(u,x),D.m(x,null),r(n,q),r(n,L),r(L,F),r(L,X),r(L,N),r(L,oe),A.m(L,null),r(e,z),r(e,U),r(U,W),r(U,ee);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(U,null)},p(m,T){if(ce!==(ce=_e(m))&&(D.d(1),D=ce(m),D&&(D.c(),D.m(x,null))),ue!==(ue=te(m))&&(A.d(1),A=ue(m),A&&(A.c(),A.m(L,null))),T[0]&1023){a=Nt(m[6]);let d;for(d=0;d<a.length;d+=1){const G=Bt(m,a,d);s[d]?s[d].p(G,T):(s[d]=It(G),s[d].c(),s[d].m(U,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=a.length}},i:bt,o:bt,d(m){m&&_(e),D.d(),A.d(),en(s,m)}}}function An(t,e,n){let l={},p=!1,$=0,u={c1_fwdCLim:1e3,c1_backCLim:20,c1_startupTime:2,c2_fwdCLim:1e3,c2_backCLim:20,c2_startupTime:2,c3_fwdCLim:1e3,c3_backCLim:20,c3_startupTime:2},S={},y={c1_pwr:!1,c2_pwr:!1,c3_pwr:!1,c1_data:!1,c2_data:!1,c3_data:!1},j={c1:!1,c2:!1,c3:!1},h={c1_pwr:!1,c2_pwr:!1,c3_pwr:!1,c1_data:!1,c2_data:!1,c3_data:!1},H=[{id:1},{id:2},{id:3}];tn(()=>{Ie.on("master",a=>{n(0,l=a),x(),q(),p=!0})}),nn(()=>{Ie.off("master")});function Z(a,s,m,T){let d=parseFloat(a.target.value);isNaN(d)||d<m?d=m:d>T&&(d=T),n(2,u[s]=d,u)}function x(){[1,2,3].forEach(s=>{S[`c${s}_fwdCLim`]!==l[`c${s}_meter_conf_fwdCLim`]&&(n(2,u[`c${s}_fwdCLim`]=l[`c${s}_meter_conf_fwdCLim`],u),S[`c${s}_fwdCLim`]=l[`c${s}_meter_conf_fwdCLim`]),S[`c${s}_backCLim`]!==l[`c${s}_meter_conf_backCLim`]&&(n(2,u[`c${s}_backCLim`]=l[`c${s}_meter_conf_backCLim`],u),S[`c${s}_backCLim`]=l[`c${s}_meter_conf_backCLim`]),S[`c${s}_startupTime`]!==l[`c${s}_startup_conf_timer`]&&(n(2,u[`c${s}_startupTime`]=(l[`c${s}_startup_conf_timer`]/10).toFixed(1),u),S[`c${s}_startupTime`]=l[`c${s}_startup_conf_timer`]),p||(n(3,y[`c${s}_pwr`]=l[`c${s}_BaseMCU_pwr_en`],y),n(3,y[`c${s}_data`]=l[`c${s}_BaseMCU_data_en`],y)),$===0?(n(3,y[`c${s}_pwr`]=l[`c${s}_BaseMCU_pwr_en`],y),n(3,y[`c${s}_data`]=l[`c${s}_BaseMCU_data_en`],y)):n(1,$--,$)})}function q(){[1,2,3].forEach(s=>{u[`c${s}_fwdCLim`]!==l[`c${s}_meter_conf_fwdCLim`]||u[`c${s}_backCLim`]!==l[`c${s}_meter_conf_backCLim`]||u[`c${s}_startupTime`]!==(l[`c${s}_startup_conf_timer`]/10).toFixed(1)?n(4,j[`c${s}`]=!0,j):n(4,j[`c${s}`]=!1,j)})}function L(a){n(0,l[`c${a}_BaseMCU_pwr_en`]=!1,l),l[`c${a}_meter_fwdAlertSet`]&&n(0,l[`c${a}_meter_fwdAlertSet`]=!1,l),l[`c${a}_meter_backAlertSet`]&&n(0,l[`c${a}_meter_backAlertSet`]=!1,l),Ie.sendEvent("master",l)}function F(a){n(0,l[`c${a}_meter_conf_fwdCLim`]=u[`c${a}_fwdCLim`],l),n(0,l[`c${a}_meter_conf_backCLim`]=u[`c${a}_backCLim`],l),n(0,l[`c${a}_startup_conf_timer`]=u[`c${a}_startupTime`]*10,l),Ie.sendEvent("master",l)}const me=a=>{L(a.id)};function X(a){y[`c${a.id}_pwr`]=this.checked,n(3,y)}const N=a=>{h[`c${a.id}_pwr`]&&(n(0,l[`c${a.id}_BaseMCU_pwr_en`]=y[`c${a.id}_pwr`],l),Ie.sendEvent("master",l),n(1,$=25))},ie=a=>{n(5,h[`c${a.id}_pwr`]=!0,h)},oe=a=>{n(5,h[`c${a.id}_pwr`]=!1,h)};function z(a){y[`c${a.id}_data`]=this.checked,n(3,y)}const U=a=>{h[`c${a.id}_data`]&&(n(0,l[`c${a.id}_BaseMCU_data_en`]=y[`c${a.id}_data`],l),Ie.sendEvent("master",l),n(1,$=20))},W=a=>{n(5,h[`c${a.id}_data`]=!0,h)},Y=a=>{n(5,h[`c${a.id}_data`]=!1,h)};function ee(a){u[`c${a.id}_fwdCLim`]=De(this.value),n(2,u)}const _e=(a,s)=>Z(s,`c${a.id}_fwdCLim`,100,2e3);function ce(a){u[`c${a.id}_backCLim`]=De(this.value),n(2,u)}const D=(a,s)=>Z(s,`c${a.id}_backCLim`,20,100);function te(a){u[`c${a.id}_startupTime`]=De(this.value),n(2,u)}return[l,$,u,y,j,h,H,Z,L,F,me,X,N,ie,oe,z,U,W,Y,ee,_e,ce,D,te,(a,s)=>Z(s,`c${a.id}_startupTime`,.1,10),a=>{F(a.id)}]}class En extends Ot{constructor(e){super(),Vt(this,e,An,Ln,Dt,{},null,[-1,-1])}}function Un(t){let e,n,l;return n=new En({}),{c(){e=i("div"),ln(n.$$.fragment),this.h()},l(p){e=o(p,"DIV",{class:!0});var $=g(e);rn(n.$$.fragment,$),$.forEach(_),this.h()},h(){c(e,"class","mx-0 my-1 flex flex-col space-y-4 sm:mx-8 sm:my-8")},m(p,$){E(p,e,$),an(n,e,null),l=!0},p:bt,i(p){l||(sn(n.$$.fragment,p),l=!0)},o(p){cn(n.$$.fragment,p),l=!1},d(p){p&&_(e),on(n)}}}function Tn(t,e,n){let{data:l}=e;return t.$$set=p=>{"data"in p&&n(0,l=p.data)},[l]}class zn extends Ot{constructor(e){super(),Vt(this,e,Tn,Un,Dt,{data:0})}}export{zn as component,Fn as universal};
