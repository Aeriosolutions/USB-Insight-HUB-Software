import{w as v}from"./index3.js";import{g as k}from"./navigation.js";import{i as S,q as h}from"./utils.js";function O(e,t){const o={},n={},a={$$scope:1};let r=e.length;for(;r--;){const d=e[r],i=t[r];if(i){for(const s in d)s in i||(n[s]=1);for(const s in i)a[s]||(o[s]=i[s],a[s]=1);e[r]=i}else for(const s in d)a[s]=1}for(const d in n)d in o||(o[d]=void 0);return o}function D(e){return typeof e=="object"&&e!==null?e:{}}class u extends Error{}u.prototype.name="InvalidTokenError";function x(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,o)=>{let n=o.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function I(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return x(t)}catch{return atob(t)}}function C(e,t){if(typeof e!="string")throw new u("Invalid token specified: must be a string");t||(t={});const o=t.header===!0?0:1,n=e.split(".")[o];if(typeof n!="string")throw new u(`Invalid token specified: missing part #${o+1}`);let a;try{a=I(n)}catch(r){throw new u(`Invalid token specified: invalid base64 for part #${o+1} (${r.message})`)}try{return JSON.parse(a)}catch(r){throw new u(`Invalid token specified: invalid json for part #${o+1} (${r.message})`)}}let b={username:"",admin:!1,bearer_token:""};function F(){const{subscribe:e,set:t}=v(b),o=localStorage.getItem("user");return o&&t(JSON.parse(o)),{subscribe:e,init:n=>{const a=C(n),r={bearer_token:n,username:a.username,admin:a.admin};t(r),localStorage.setItem("user",JSON.stringify(r))},invalidate:()=>{console.log("Log out user"),t(b),localStorage.removeItem("user"),k("/")}}}const J=F();function w(e){const t=e-1;return t*t*t+1}function N(e,{delay:t=0,duration:o=400,easing:n=S}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:o,easing:n,css:r=>`opacity: ${r*a}`}}function T(e,{delay:t=0,duration:o=400,easing:n=w,x:a=0,y:r=0,opacity:d=0}={}){const i=getComputedStyle(e),s=+i.opacity,p=i.transform==="none"?"":i.transform,l=s*(1-d),[g,m]=h(a),[y,$]=h(r);return{delay:t,duration:o,easing:n,css:(f,_)=>`
			transform: ${p} translate(${(1-f)*g}${m}, ${(1-f)*y}${$});
			opacity: ${s-l*_}`}}function V(e,{delay:t=0,duration:o=400,easing:n=w,axis:a="y"}={}){const r=getComputedStyle(e),d=+r.opacity,i=a==="y"?"height":"width",s=parseFloat(r[i]),p=a==="y"?["top","bottom"]:["left","right"],l=p.map(c=>`${c[0].toUpperCase()}${c.slice(1)}`),g=parseFloat(r[`padding${l[0]}`]),m=parseFloat(r[`padding${l[1]}`]),y=parseFloat(r[`margin${l[0]}`]),$=parseFloat(r[`margin${l[1]}`]),f=parseFloat(r[`border${l[0]}Width`]),_=parseFloat(r[`border${l[1]}Width`]);return{delay:t,duration:o,easing:n,css:c=>`overflow: hidden;opacity: ${Math.min(c*20,1)*d};${i}: ${c*s}px;padding-${p[0]}: ${c*g}px;padding-${p[1]}: ${c*m}px;margin-${p[0]}: ${c*y}px;margin-${p[1]}: ${c*$}px;border-${p[0]}-width: ${c*f}px;border-${p[1]}-width: ${c*_}px;`}}export{D as a,N as b,w as c,T as f,O as g,V as s,J as u};
